unit FHIRIndexInformation;

{
  Copyright (c) 2011+, HL7 and Health Intersections Pty Ltd (http://www.healthintersections.com.au)
  All rights reserved.
  
  Redistribution and use in source and binary forms, with or without modification, 
  are permitted provided that the following conditions are met:
  
   * Redistributions of source code must retain the above copyright notice, this 
     list of conditions and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, 
     this list of conditions and the following disclaimer in the documentation 
     and/or other materials provided with the distribution.
   * Neither the name of HL7 nor the names of its contributors may be used to 
     endorse or promote products derived from this software without specific 
     prior written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND 
  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
  POSSIBILITY OF SUCH DAMAGE.
  
}

{$IFNDEF FHIR3}
This is the dstu3 version of the FHIR code
{$ENDIF}


interface

// FHIR v1.4.0 generated 2016-05-08T03:05:30+10:00

uses
  SysUtils, Classes, StringSupport, DecimalSupport, AdvBuffers, DateAndTime, FHIRIndexManagers, FHIRResources, FHIRTypes, FHIRConstants, FHIRSupport;

Type

  TFHIRIndexBuilder = class (TAdvObject)
  private
    procedure buildIndexesForAccount(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForAllergyIntolerance(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForAppointment(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForAppointmentResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForAuditEvent(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForBasic(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForBinary(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForBodySite(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForBundle(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForCarePlan(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForCareTeam(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForClaim(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForClaimResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForClinicalImpression(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForCodeSystem(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForCommunication(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForCommunicationRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForCompartmentDefinition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForComposition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForConceptMap(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForCondition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForConformance(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForContract(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForCoverage(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDataElement(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDecisionSupportRule(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDecisionSupportServiceModule(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDetectedIssue(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDevice(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDeviceComponent(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDeviceMetric(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDeviceUseRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDeviceUseStatement(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDiagnosticOrder(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDiagnosticReport(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDocumentManifest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForDocumentReference(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForEligibilityRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForEligibilityResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForEncounter(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForEnrollmentRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForEnrollmentResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForEpisodeOfCare(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForExpansionProfile(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForExplanationOfBenefit(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForFamilyMemberHistory(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForFlag(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForGoal(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForGroup(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForGuidanceResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForHealthcareService(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForImagingExcerpt(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForImagingObjectSelection(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForImagingStudy(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForImmunization(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForImmunizationRecommendation(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForImplementationGuide(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForLibrary(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForLinkage(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForList(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForLocation(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForMeasure(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForMeasureReport(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForMedia(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForMedication(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForMedicationAdministration(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForMedicationDispense(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForMedicationOrder(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForMedicationStatement(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForMessageHeader(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForModuleDefinition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForNamingSystem(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForNutritionOrder(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForObservation(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForOperationDefinition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForOperationOutcome(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForOrder(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForOrderResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForOrderSet(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForOrganization(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForPatient(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForPaymentNotice(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForPaymentReconciliation(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForPerson(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForPractitioner(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForPractitionerRole(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForProcedure(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForProcedureRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForProcessRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForProcessResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForProtocol(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForProvenance(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForQuestionnaire(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForQuestionnaireResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForReferralRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForRelatedPerson(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForRiskAssessment(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForSchedule(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForSearchParameter(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForSequence(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForSlot(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForSpecimen(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForStructureDefinition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForStructureMap(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForSubscription(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForSubstance(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForSupplyDelivery(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForSupplyRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForTask(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForTestScript(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForValueSet(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
    procedure buildIndexesForVisionPrescription(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
  public
    procedure registerIndexes(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
 end;

implementation

procedure TFHIRIndexBuilder.buildIndexesForAccount(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Account', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Account', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Account', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Account', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Account', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Account', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Account', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Account', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Account', 'balance', 'How much is in account?', SearchParamTypeQUANTITY, [], 'Account.balance', SearchXpathUsageNormal);
  indexes.add('Account', 'identifier', 'Account number', SearchParamTypeTOKEN, [], 'Account.identifier', SearchXpathUsageNormal);
  indexes.add('Account', 'name', 'Human-readable label', SearchParamTypeSTRING, [], 'Account.name', SearchXpathUsageNormal);
  indexes.add('Account', 'owner', 'Who is responsible?', SearchParamTypeREFERENCE, ['Organization'], 'Account.owner', SearchXpathUsageNormal);
  indexes.add('Account', 'patient', 'What is account tied to?', SearchParamTypeREFERENCE, ['Patient'], 'Account.subject', SearchXpathUsageNormal);
  indexes.add('Account', 'period', 'Transaction window', SearchParamTypeDATE, [], 'Account.coveragePeriod', SearchXpathUsageNormal);
  indexes.add('Account', 'status', 'active | inactive', SearchParamTypeTOKEN, [], 'Account.status', SearchXpathUsageNormal);
  indexes.add('Account', 'subject', 'What is account tied to?', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Location', 'HealthcareService', 'Organization', 'Practitioner'], 'Account.subject', SearchXpathUsageNormal);
  indexes.add('Account', 'type', 'E.g. patient, expense, depreciation', SearchParamTypeTOKEN, [], 'Account.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Account', ['subject']);
  compartments.register(frtPractitioner, 'Account', ['subject']);
  compartments.register(frtDevice, 'Account', ['subject']);
end;

procedure TFHIRIndexBuilder.buildIndexesForAllergyIntolerance(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('AllergyIntolerance', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'category', 'food | medication | environment | other - Category of Substance', SearchParamTypeTOKEN, [], 'AllergyIntolerance.category', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'criticality', 'low | high | unable-to-assess', SearchParamTypeTOKEN, [], 'AllergyIntolerance.criticality', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'date', 'When recorded', SearchParamTypeDATE, [], 'AllergyIntolerance.recordedDate', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'identifier', 'External ids for this item', SearchParamTypeTOKEN, [], 'AllergyIntolerance.identifier', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'last-date', 'Date(/time) of last known occurrence of a reaction', SearchParamTypeDATE, [], 'AllergyIntolerance.lastOccurence', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'manifestation', 'Clinical symptoms/signs associated with the Event', SearchParamTypeTOKEN, [], 'AllergyIntolerance.reaction.manifestation', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'onset', 'Date(/time) when manifestations showed', SearchParamTypeDATE, [], 'AllergyIntolerance.reaction.onset', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'patient', 'Who the sensitivity is for', SearchParamTypeREFERENCE, ['Patient'], 'AllergyIntolerance.patient', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'recorder', 'Who recorded the sensitivity', SearchParamTypeREFERENCE, ['Patient', 'Practitioner'], 'AllergyIntolerance.recorder', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'reporter', 'Source of the information about the allergy', SearchParamTypeREFERENCE, ['Patient', 'Practitioner', 'RelatedPerson'], 'AllergyIntolerance.reporter', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'route', 'How the subject was exposed to the substance', SearchParamTypeTOKEN, [], 'AllergyIntolerance.reaction.exposureRoute', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'severity', 'mild | moderate | severe (of event as a whole)', SearchParamTypeTOKEN, [], 'AllergyIntolerance.reaction.severity', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'status', 'active | unconfirmed | confirmed | inactive | resolved | refuted | entered-in-error', SearchParamTypeTOKEN, [], 'AllergyIntolerance.status', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'substance', 'Substance, (or class) considered to be responsible for risk', SearchParamTypeTOKEN, [], 'AllergyIntolerance.substance | AllergyIntolerance.reaction.substance', SearchXpathUsageNormal);
  indexes.add('AllergyIntolerance', 'type', 'allergy | intolerance - Underlying mechanism (if known)', SearchParamTypeTOKEN, [], 'AllergyIntolerance.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'AllergyIntolerance', ['patient', 'recorder', 'reporter']);
  compartments.register(frtRelatedPerson, 'AllergyIntolerance', ['reporter']);
  compartments.register(frtPractitioner, 'AllergyIntolerance', ['recorder', 'reporter']);
end;

procedure TFHIRIndexBuilder.buildIndexesForAppointment(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Appointment', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Appointment', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Appointment', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Appointment', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Appointment', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Appointment', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Appointment', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Appointment', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Appointment', 'actor', 'Any one of the individuals participating in the appointment', SearchParamTypeREFERENCE, ['Device', 'Patient', 'HealthcareService', 'Location', 'Practitioner', 'RelatedPerson'], 'Appointment.participant.actor', SearchXpathUsageNormal);
  indexes.add('Appointment', 'appointment-type', 'The style of appointment or patient that has been booked in the slot (not service type)', SearchParamTypeTOKEN, [], 'Appointment.appointmentType', SearchXpathUsageNormal);
  indexes.add('Appointment', 'date', 'Appointment date/time.', SearchParamTypeDATE, [], 'Appointment.start', SearchXpathUsageNormal);
  indexes.add('Appointment', 'identifier', 'An Identifier of the Appointment', SearchParamTypeTOKEN, [], 'Appointment.identifier', SearchXpathUsageNormal);
  indexes.add('Appointment', 'location', 'This location is listed in the participants of the appointment', SearchParamTypeREFERENCE, ['Location'], 'Appointment.participant.actor', SearchXpathUsageNormal);
  indexes.add('Appointment', 'part-status', 'The Participation status of the subject, or other participant on the appointment. Can be used to locate participants that have not responded to meeting requests.', SearchParamTypeTOKEN, [], 'Appointment.participant.status', SearchXpathUsageNormal);
  indexes.add('Appointment', 'patient', 'One of the individuals of the appointment is this patient', SearchParamTypeREFERENCE, ['Patient'], 'Appointment.participant.actor', SearchXpathUsageNormal);
  indexes.add('Appointment', 'practitioner', 'One of the individuals of the appointment is this practitioner', SearchParamTypeREFERENCE, ['Practitioner'], 'Appointment.participant.actor', SearchXpathUsageNormal);
  indexes.add('Appointment', 'service-type', 'The specific service that is to be performed during this appointment', SearchParamTypeTOKEN, [], 'Appointment.serviceType', SearchXpathUsageNormal);
  indexes.add('Appointment', 'status', 'The overall status of the appointment', SearchParamTypeTOKEN, [], 'Appointment.status', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Appointment', ['actor']);
  compartments.register(frtRelatedPerson, 'Appointment', ['actor']);
  compartments.register(frtPractitioner, 'Appointment', ['actor']);
  compartments.register(frtDevice, 'Appointment', ['actor']);
end;

procedure TFHIRIndexBuilder.buildIndexesForAppointmentResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('AppointmentResponse', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', 'actor', 'The Person, Location/HealthcareService or Device that this appointment response replies for', SearchParamTypeREFERENCE, ['Device', 'Patient', 'HealthcareService', 'Location', 'Practitioner', 'RelatedPerson'], 'AppointmentResponse.actor', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', 'appointment', 'The appointment that the response is attached to', SearchParamTypeREFERENCE, ['Appointment'], 'AppointmentResponse.appointment', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', 'identifier', 'An Identifier in this appointment response', SearchParamTypeTOKEN, [], 'AppointmentResponse.identifier', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', 'location', 'This Response is for this Location', SearchParamTypeREFERENCE, ['Location'], 'AppointmentResponse.actor', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', 'part-status', 'The participants acceptance status for this appointment', SearchParamTypeTOKEN, [], 'AppointmentResponse.participantStatus', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', 'patient', 'This Response is for this Patient', SearchParamTypeREFERENCE, ['Patient'], 'AppointmentResponse.actor', SearchXpathUsageNormal);
  indexes.add('AppointmentResponse', 'practitioner', 'This Response is for this Practitioner', SearchParamTypeREFERENCE, ['Practitioner'], 'AppointmentResponse.actor', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'AppointmentResponse', ['actor']);
  compartments.register(frtRelatedPerson, 'AppointmentResponse', ['actor']);
  compartments.register(frtPractitioner, 'AppointmentResponse', ['actor']);
  compartments.register(frtDevice, 'AppointmentResponse', ['actor']);
end;

procedure TFHIRIndexBuilder.buildIndexesForAuditEvent(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('AuditEvent', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('AuditEvent', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('AuditEvent', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('AuditEvent', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('AuditEvent', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('AuditEvent', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('AuditEvent', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('AuditEvent', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'action', 'Type of action performed during the event', SearchParamTypeTOKEN, [], 'AuditEvent.action', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'address', 'Identifier for the network access point of the user device', SearchParamTypeTOKEN, [], 'AuditEvent.agent.network.address', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'agent', 'Direct reference to resource', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'AuditEvent.agent.reference', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'agent-name', 'Human-meaningful name for the agent', SearchParamTypeSTRING, [], 'AuditEvent.agent.name', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'altid', 'Alternative User id e.g. authentication', SearchParamTypeTOKEN, [], 'AuditEvent.agent.altId', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'date', 'Time when the event occurred on source', SearchParamTypeDATE, [], 'AuditEvent.recorded', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'entity', 'Specific instance of resource (e.g. versioned)', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'AuditEvent.entity.reference', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'entity-id', 'Specific instance of object (e.g. versioned)', SearchParamTypeTOKEN, [], 'AuditEvent.entity.identifier', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'entity-name', 'Descriptor for entity', SearchParamTypeSTRING, [], 'AuditEvent.entity.name', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'entity-type', 'Type of object involved', SearchParamTypeTOKEN, [], 'AuditEvent.entity.type', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'patient', 'Direct reference to resource', SearchParamTypeREFERENCE, ['Patient'], 'AuditEvent.agent.reference | AuditEvent.entity.reference', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'policy', 'Policy that authorized event', SearchParamTypeURI, [], 'AuditEvent.agent.policy', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'site', 'Logical source location within the enterprise', SearchParamTypeTOKEN, [], 'AuditEvent.source.site', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'source', 'The identity of source detecting the event', SearchParamTypeTOKEN, [], 'AuditEvent.source.identifier', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'subtype', 'More specific type/id for the event', SearchParamTypeTOKEN, [], 'AuditEvent.subtype', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'type', 'Type/identifier of event', SearchParamTypeTOKEN, [], 'AuditEvent.type', SearchXpathUsageNormal);
  indexes.add('AuditEvent', 'user', 'Unique identifier for the user', SearchParamTypeTOKEN, [], 'AuditEvent.agent.userId', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'AuditEvent', ['patient', 'agent.patient', 'entity.patient']);
  compartments.register(frtPractitioner, 'AuditEvent', ['agent']);
  compartments.register(frtDevice, 'AuditEvent', ['agent']);
end;

procedure TFHIRIndexBuilder.buildIndexesForBasic(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Basic', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Basic', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Basic', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Basic', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Basic', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Basic', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Basic', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Basic', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Basic', 'author', 'Who created', SearchParamTypeREFERENCE, ['Patient', 'Practitioner', 'RelatedPerson'], 'Basic.author', SearchXpathUsageNormal);
  indexes.add('Basic', 'code', 'Kind of Resource', SearchParamTypeTOKEN, [], 'Basic.code', SearchXpathUsageNormal);
  indexes.add('Basic', 'created', 'When created', SearchParamTypeDATE, [], 'Basic.created', SearchXpathUsageNormal);
  indexes.add('Basic', 'identifier', 'Business identifier', SearchParamTypeTOKEN, [], 'Basic.identifier', SearchXpathUsageNormal);
  indexes.add('Basic', 'patient', 'Identifies the focus of this resource', SearchParamTypeREFERENCE, ['Patient'], 'Basic.subject', SearchXpathUsageNormal);
  indexes.add('Basic', 'subject', 'Identifies the focus of this resource', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'Basic.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Basic', ['patient', 'author']);
  compartments.register(frtRelatedPerson, 'Basic', ['author']);
  compartments.register(frtPractitioner, 'Basic', ['author']);
end;

procedure TFHIRIndexBuilder.buildIndexesForBinary(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Binary', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Binary', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Binary', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Binary', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Binary', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Binary', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Binary', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Binary', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Binary', 'contenttype', 'MimeType of the binary content', SearchParamTypeTOKEN, [], 'Binary.contentType', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForBodySite(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('BodySite', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('BodySite', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('BodySite', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('BodySite', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('BodySite', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('BodySite', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('BodySite', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('BodySite', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('BodySite', 'code', 'Named anatomical location', SearchParamTypeTOKEN, [], 'BodySite.code', SearchXpathUsageNormal);
  indexes.add('BodySite', 'identifier', 'Identifier for this instance of the anatomical location', SearchParamTypeTOKEN, [], 'BodySite.identifier', SearchXpathUsageNormal);
  indexes.add('BodySite', 'patient', 'Patient to whom bodysite belongs', SearchParamTypeREFERENCE, ['Patient'], 'BodySite.patient', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'BodySite', ['patient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForBundle(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Bundle', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Bundle', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Bundle', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Bundle', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Bundle', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Bundle', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Bundle', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Bundle', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Bundle', 'composition', 'The first resource in the bundle, if the bundle type is "document" - this is a composition, and this parameter provides access to searches its contents', SearchParamTypeREFERENCE, ['Composition'], 'Bundle.entry.resource[0]', SearchXpathUsageNormal);
  indexes.add('Bundle', 'message', 'The first resource in the bundle, if the bundle type is "message" - this is a message header, and this parameter provides access to search its contents', SearchParamTypeREFERENCE, ['MessageHeader'], 'Bundle.entry.resource[0]', SearchXpathUsageNormal);
  indexes.add('Bundle', 'type', 'document | message | transaction | transaction-response | batch | batch-response | history | searchset | collection', SearchParamTypeTOKEN, [], 'Bundle.type', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForCarePlan(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('CarePlan', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CarePlan', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('CarePlan', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('CarePlan', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('CarePlan', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('CarePlan', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('CarePlan', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('CarePlan', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'activitycode', 'Detail type of activity', SearchParamTypeTOKEN, [], 'CarePlan.activity.detail.code', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'activitydate', 'Specified date occurs within period specified by CarePlan.activity.timingSchedule', SearchParamTypeDATE, [], 'CarePlan.activity.detail.scheduled', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'activityreference', 'Activity details defined in specific resource', SearchParamTypeREFERENCE, ['ReferralRequest', 'Appointment', 'ProcedureRequest', 'CommunicationRequest', 'Order', 'SupplyRequest', 'VisionPrescription', 'MedicationOrder', 'DeviceUseRequest', 'ProcessRequest', 'DiagnosticOrder', 'NutritionOrder'], 'CarePlan.activity.reference', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'condition', 'Health issues this plan addresses', SearchParamTypeREFERENCE, ['Condition'], 'CarePlan.addresses', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'date', 'Time period plan covers', SearchParamTypeDATE, [], 'CarePlan.period', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'goal', 'Desired outcome of plan', SearchParamTypeREFERENCE, ['Goal'], 'CarePlan.goal', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'participant', 'Who is involved', SearchParamTypeREFERENCE, ['Patient', 'Organization', 'Practitioner', 'RelatedPerson'], 'CarePlan.participant.member', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'patient', 'Who care plan is for', SearchParamTypeREFERENCE, ['Patient'], 'CarePlan.subject', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'performer', 'Matches if the practitioner is listed as a performer in any of the "simple" activities.  (For performers of the detailed activities, chain through the activitydetail search parameter.)', SearchParamTypeREFERENCE, ['Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'CarePlan.activity.detail.performer', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'related', 'A combination of the type of relationship and the related plan', SearchParamTypeCOMPOSITE, [], '', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'relatedcode', 'includes | replaces | fulfills', SearchParamTypeTOKEN, [], 'CarePlan.relatedPlan.code', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'relatedplan', 'Plan relationship exists with', SearchParamTypeREFERENCE, ['CarePlan'], 'CarePlan.relatedPlan.plan', SearchXpathUsageNormal);
  indexes.add('CarePlan', 'subject', 'Who care plan is for', SearchParamTypeREFERENCE, ['Patient', 'Group'], 'CarePlan.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'CarePlan', ['patient', 'participant', 'performer']);
  compartments.register(frtRelatedPerson, 'CarePlan', ['participant', 'performer']);
  compartments.register(frtPractitioner, 'CarePlan', ['participant', 'performer']);
end;

procedure TFHIRIndexBuilder.buildIndexesForCareTeam(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('CareTeam', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CareTeam', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('CareTeam', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('CareTeam', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('CareTeam', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('CareTeam', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('CareTeam', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('CareTeam', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CareTeam', 'date', 'Time period team covers', SearchParamTypeDATE, [], 'CareTeam.period', SearchXpathUsageNormal);
  indexes.add('CareTeam', 'identifier', 'External Ids for this team', SearchParamTypeTOKEN, [], 'CareTeam.identifier', SearchXpathUsageNormal);
  indexes.add('CareTeam', 'participant', 'Who is involved', SearchParamTypeREFERENCE, ['Patient', 'Organization', 'Practitioner', 'RelatedPerson'], 'CareTeam.participant.member', SearchXpathUsageNormal);
  indexes.add('CareTeam', 'patient', 'Who care team is for', SearchParamTypeREFERENCE, ['Patient'], 'CareTeam.subject', SearchXpathUsageNormal);
  indexes.add('CareTeam', 'status', 'active | suspended | inactive | entered in error', SearchParamTypeTOKEN, [], 'CareTeam.status', SearchXpathUsageNormal);
  indexes.add('CareTeam', 'subject', 'Who care team is for', SearchParamTypeREFERENCE, ['Patient', 'Group'], 'CareTeam.subject', SearchXpathUsageNormal);
  indexes.add('CareTeam', 'type', 'Type of team', SearchParamTypeTOKEN, [], 'CareTeam.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'CareTeam', ['patient', 'participant']);
  compartments.register(frtRelatedPerson, 'CareTeam', ['participant']);
  compartments.register(frtPractitioner, 'CareTeam', ['participant']);
end;

procedure TFHIRIndexBuilder.buildIndexesForClaim(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Claim', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Claim', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Claim', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Claim', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Claim', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Claim', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Claim', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Claim', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Claim', 'created', 'The creation date for the Claim', SearchParamTypeDATE, [], 'Claim.created', SearchXpathUsageNormal);
  indexes.add('Claim', 'facilityidentifier', 'Facility responsible for the goods and services', SearchParamTypeTOKEN, [], 'Claim.facility.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('Claim', 'facilityreference', 'Facility responsible for the goods and services', SearchParamTypeREFERENCE, ['Location'], 'Claim.facility.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Claim', 'identifier', 'The primary identifier of the financial resource', SearchParamTypeTOKEN, [], 'Claim.identifier', SearchXpathUsageNormal);
  indexes.add('Claim', 'organizationidentifier', 'The reference to the providing organization', SearchParamTypeTOKEN, [], 'Claim.organization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('Claim', 'organizationreference', 'The reference to the providing organization', SearchParamTypeREFERENCE, ['Organization'], 'Claim.organization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Claim', 'patientidentifier', 'Patient receiving the services', SearchParamTypeTOKEN, [], 'Claim.patient.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('Claim', 'patientreference', 'Patient receiving the services', SearchParamTypeREFERENCE, ['Patient'], 'Claim.patient.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Claim', 'priority', 'Processing priority requested', SearchParamTypeTOKEN, [], 'Claim.priority', SearchXpathUsageNormal);
  indexes.add('Claim', 'provideridentifier', 'Provider responsible for the Claim', SearchParamTypeTOKEN, [], 'Claim.provider.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('Claim', 'providerreference', 'Provider responsible for the Claim', SearchParamTypeREFERENCE, ['Practitioner'], 'Claim.provider.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Claim', 'targetidentifier', 'The target payor/insurer for the Claim', SearchParamTypeTOKEN, [], 'Claim.target.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('Claim', 'targetreference', 'The target payor/insurer for the Claim', SearchParamTypeREFERENCE, ['Organization'], 'Claim.target.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Claim', 'use', 'The kind of financial resource', SearchParamTypeTOKEN, [], 'Claim.use', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Claim', ['patientidentifier', 'patientreference']);
  compartments.register(frtPractitioner, 'Claim', ['provideridentifier', 'providerreference']);
end;

procedure TFHIRIndexBuilder.buildIndexesForClaimResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ClaimResponse', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', 'created', 'The creation date', SearchParamTypeDATE, [], 'ClaimResponse.created', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', 'disposition', 'The contents of the disposition message', SearchParamTypeSTRING, [], 'ClaimResponse.disposition', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', 'identifier', 'The identity of the insurer', SearchParamTypeTOKEN, [], 'ClaimResponse.identifier', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', 'organizationidentifier', 'The organization who generated this resource', SearchParamTypeTOKEN, [], 'ClaimResponse.organization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', 'organizationreference', 'The organization who generated this resource', SearchParamTypeREFERENCE, ['Organization'], 'ClaimResponse.organization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', 'outcome', 'The processing outcome', SearchParamTypeTOKEN, [], 'ClaimResponse.outcome', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', 'paymentdate', 'The expected paymentDate', SearchParamTypeDATE, [], 'ClaimResponse.paymentDate', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', 'requestidentifier', 'The claim reference', SearchParamTypeTOKEN, [], 'ClaimResponse.request.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ClaimResponse', 'requestreference', 'The claim reference', SearchParamTypeREFERENCE, ['Claim'], 'ClaimResponse.request.as(Reference)', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForClinicalImpression(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ClinicalImpression', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'action', 'Actions taken during assessment', SearchParamTypeREFERENCE, ['ReferralRequest', 'ProcedureRequest', 'Appointment', 'SupplyRequest', 'Procedure', 'MedicationOrder', 'DiagnosticOrder', 'NutritionOrder'], 'ClinicalImpression.action', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'assessor', 'The clinician performing the assessment', SearchParamTypeREFERENCE, ['Practitioner'], 'ClinicalImpression.assessor', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'date', 'When the assessment occurred', SearchParamTypeDATE, [], 'ClinicalImpression.date', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'finding', 'Specific text or code for finding', SearchParamTypeTOKEN, [], 'ClinicalImpression.finding.item', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'investigation', 'Record of a specific investigation', SearchParamTypeREFERENCE, ['FamilyMemberHistory', 'Observation', 'QuestionnaireResponse', 'DiagnosticReport'], 'ClinicalImpression.investigations.item', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'patient', 'The patient being assessed', SearchParamTypeREFERENCE, ['Patient'], 'ClinicalImpression.patient', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'plan', 'Plan of action after assessment', SearchParamTypeREFERENCE, ['CarePlan', 'ReferralRequest', 'ProcedureRequest', 'CommunicationRequest', 'Order', 'VisionPrescription', 'ProcessRequest', 'DeviceUseRequest', 'Appointment', 'SupplyRequest', 'MedicationOrder', 'DiagnosticOrder', 'NutritionOrder'], 'ClinicalImpression.plan', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'previous', 'Reference to last assessment', SearchParamTypeREFERENCE, ['ClinicalImpression'], 'ClinicalImpression.previous', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'problem', 'General assessment of patient state', SearchParamTypeREFERENCE, ['Condition', 'AllergyIntolerance'], 'ClinicalImpression.problem', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'resolved', 'Diagnoses/conditions resolved since previous assessment', SearchParamTypeTOKEN, [], 'ClinicalImpression.resolved', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'ruledout', 'Specific text of code for diagnosis', SearchParamTypeTOKEN, [], 'ClinicalImpression.ruledOut.item', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'status', 'in-progress | completed | entered-in-error', SearchParamTypeTOKEN, [], 'ClinicalImpression.status', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'trigger', 'Request or event that necessitated this assessment', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'ClinicalImpression.trigger.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ClinicalImpression', 'trigger-code', 'Request or event that necessitated this assessment', SearchParamTypeTOKEN, [], 'ClinicalImpression.trigger.as(CodeableConcept)', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'ClinicalImpression', ['patient']);
  compartments.register(frtPractitioner, 'ClinicalImpression', ['assessor']);
end;

procedure TFHIRIndexBuilder.buildIndexesForCodeSystem(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('CodeSystem', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CodeSystem', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('CodeSystem', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('CodeSystem', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('CodeSystem', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('CodeSystem', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('CodeSystem', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('CodeSystem', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'code', 'A code defined in the code system', SearchParamTypeTOKEN, [], 'CodeSystem.concept.code', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'content', 'not-present | examplar | fragment | complete', SearchParamTypeTOKEN, [], 'CodeSystem.content', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'context', 'A use context assigned to the code system', SearchParamTypeTOKEN, [], 'CodeSystem.useContext', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'date', 'The code system publication date', SearchParamTypeDATE, [], 'CodeSystem.date', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'description', 'Text search in the description of the code system', SearchParamTypeSTRING, [], 'CodeSystem.description', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'identifier', 'The identifier for the code system', SearchParamTypeTOKEN, [], 'CodeSystem.identifier', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'language', 'A language in which a designation is provided', SearchParamTypeTOKEN, [], 'CodeSystem.concept.designation.language', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'name', 'The name of the code system', SearchParamTypeSTRING, [], 'CodeSystem.name', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'publisher', 'Name of the publisher of the code system', SearchParamTypeSTRING, [], 'CodeSystem.publisher', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'status', 'The status of the code system', SearchParamTypeTOKEN, [], 'CodeSystem.status', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'system', 'The system for any codes defined by this code system (same as ''url'')', SearchParamTypeURI, [], 'CodeSystem.url', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'url', 'The logical URL for the code system', SearchParamTypeURI, [], 'CodeSystem.url', SearchXpathUsageNormal);
  indexes.add('CodeSystem', 'version', 'The version identifier of the code system', SearchParamTypeTOKEN, [], 'CodeSystem.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForCommunication(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Communication', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Communication', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Communication', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Communication', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Communication', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Communication', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Communication', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Communication', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Communication', 'category', 'Message category', SearchParamTypeTOKEN, [], 'Communication.category', SearchXpathUsageNormal);
  indexes.add('Communication', 'encounter', 'Encounter leading to message', SearchParamTypeREFERENCE, ['Encounter'], 'Communication.encounter', SearchXpathUsageNormal);
  indexes.add('Communication', 'identifier', 'Unique identifier', SearchParamTypeTOKEN, [], 'Communication.identifier', SearchXpathUsageNormal);
  indexes.add('Communication', 'medium', 'A channel of communication', SearchParamTypeTOKEN, [], 'Communication.medium', SearchXpathUsageNormal);
  indexes.add('Communication', 'patient', 'Focus of message', SearchParamTypeREFERENCE, ['Patient'], 'Communication.subject', SearchXpathUsageNormal);
  indexes.add('Communication', 'received', 'When received', SearchParamTypeDATE, [], 'Communication.received', SearchXpathUsageNormal);
  indexes.add('Communication', 'recipient', 'Message recipient', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'Group', 'RelatedPerson'], 'Communication.recipient', SearchXpathUsageNormal);
  indexes.add('Communication', 'request', 'CommunicationRequest producing this message', SearchParamTypeREFERENCE, ['CommunicationRequest'], 'Communication.requestDetail', SearchXpathUsageNormal);
  indexes.add('Communication', 'sender', 'Message sender', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'Communication.sender', SearchXpathUsageNormal);
  indexes.add('Communication', 'sent', 'When sent', SearchParamTypeDATE, [], 'Communication.sent', SearchXpathUsageNormal);
  indexes.add('Communication', 'status', 'in-progress | completed | suspended | rejected | failed', SearchParamTypeTOKEN, [], 'Communication.status', SearchXpathUsageNormal);
  indexes.add('Communication', 'subject', 'Focus of message', SearchParamTypeREFERENCE, ['Patient'], 'Communication.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Communication', ['subject', 'sender', 'recipient']);
  compartments.register(frtEncounter, 'Communication', ['encounter']);
  compartments.register(frtRelatedPerson, 'Communication', ['sender', 'recipient']);
  compartments.register(frtPractitioner, 'Communication', ['sender', 'recipient']);
  compartments.register(frtDevice, 'Communication', ['sender', 'recipient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForCommunicationRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('CommunicationRequest', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'category', 'Message category', SearchParamTypeTOKEN, [], 'CommunicationRequest.category', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'encounter', 'Encounter leading to message', SearchParamTypeREFERENCE, ['Encounter'], 'CommunicationRequest.encounter', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'identifier', 'Unique identifier', SearchParamTypeTOKEN, [], 'CommunicationRequest.identifier', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'medium', 'A channel of communication', SearchParamTypeTOKEN, [], 'CommunicationRequest.medium', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'patient', 'Focus of message', SearchParamTypeREFERENCE, ['Patient'], 'CommunicationRequest.subject', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'priority', 'Message urgency', SearchParamTypeTOKEN, [], 'CommunicationRequest.priority', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'recipient', 'Message recipient', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'CommunicationRequest.recipient', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'requested', 'When ordered or proposed', SearchParamTypeDATE, [], 'CommunicationRequest.requestedOn', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'requester', 'An individual who requested a communication', SearchParamTypeREFERENCE, ['Patient', 'Practitioner', 'RelatedPerson'], 'CommunicationRequest.requester', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'sender', 'Message sender', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'CommunicationRequest.sender', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'status', 'proposed | planned | requested | received | accepted | in-progress | completed | suspended | rejected | failed', SearchParamTypeTOKEN, [], 'CommunicationRequest.status', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'subject', 'Focus of message', SearchParamTypeREFERENCE, ['Patient'], 'CommunicationRequest.subject', SearchXpathUsageNormal);
  indexes.add('CommunicationRequest', 'time', 'When scheduled', SearchParamTypeDATE, [], 'CommunicationRequest.scheduled.as(DateTime)', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'CommunicationRequest', ['subject', 'sender', 'recipient', 'requester']);
  compartments.register(frtEncounter, 'CommunicationRequest', ['encounter']);
  compartments.register(frtRelatedPerson, 'CommunicationRequest', ['sender', 'recipient', 'requester']);
  compartments.register(frtPractitioner, 'CommunicationRequest', ['sender', 'recipient', 'requester']);
  compartments.register(frtDevice, 'CommunicationRequest', ['sender', 'recipient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForCompartmentDefinition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('CompartmentDefinition', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', 'code', 'Patient | Encounter | RelatedPerson | Practitioner | Device', SearchParamTypeTOKEN, [], 'CompartmentDefinition.code', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', 'date', 'Publication Date(/time)', SearchParamTypeDATE, [], 'CompartmentDefinition.date', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', 'name', 'Informal name for this compartment definition', SearchParamTypeSTRING, [], 'CompartmentDefinition.name', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', 'resource', 'Name of resource type', SearchParamTypeTOKEN, [], 'CompartmentDefinition.resource.code', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', 'status', 'draft | active | retired', SearchParamTypeTOKEN, [], 'CompartmentDefinition.status', SearchXpathUsageNormal);
  indexes.add('CompartmentDefinition', 'url', 'Absolute URL used to reference this compartment definition', SearchParamTypeURI, [], 'CompartmentDefinition.url', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForComposition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Composition', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Composition', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Composition', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Composition', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Composition', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Composition', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Composition', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Composition', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Composition', 'attester', 'Who attested the composition', SearchParamTypeREFERENCE, ['Patient', 'Organization', 'Practitioner'], 'Composition.attester.party', SearchXpathUsageNormal);
  indexes.add('Composition', 'author', 'Who and/or what authored the composition', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Practitioner', 'RelatedPerson'], 'Composition.author', SearchXpathUsageNormal);
  indexes.add('Composition', 'class', 'Categorization of Composition', SearchParamTypeTOKEN, [], 'Composition.class', SearchXpathUsageNormal);
  indexes.add('Composition', 'confidentiality', 'As defined by affinity domain', SearchParamTypeTOKEN, [], 'Composition.confidentiality', SearchXpathUsageNormal);
  indexes.add('Composition', 'context', 'Code(s) that apply to the event being documented', SearchParamTypeTOKEN, [], 'Composition.event.code', SearchXpathUsageNormal);
  indexes.add('Composition', 'date', 'Composition editing time', SearchParamTypeDATE, [], 'Composition.date', SearchXpathUsageNormal);
  indexes.add('Composition', 'encounter', 'Context of the Composition', SearchParamTypeREFERENCE, ['Encounter'], 'Composition.encounter', SearchXpathUsageNormal);
  indexes.add('Composition', 'entry', 'A reference to data that supports this section', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'Composition.section.entry', SearchXpathUsageNormal);
  indexes.add('Composition', 'identifier', 'Logical identifier of composition (version-independent)', SearchParamTypeTOKEN, [], 'Composition.identifier', SearchXpathUsageNormal);
  indexes.add('Composition', 'patient', 'Who and/or what the composition is about', SearchParamTypeREFERENCE, ['Patient'], 'Composition.subject', SearchXpathUsageNormal);
  indexes.add('Composition', 'period', 'The period covered by the documentation', SearchParamTypeDATE, [], 'Composition.event.period', SearchXpathUsageNormal);
  indexes.add('Composition', 'section', 'Classification of section (recommended)', SearchParamTypeTOKEN, [], 'Composition.section.code', SearchXpathUsageNormal);
  indexes.add('Composition', 'status', 'preliminary | final | amended | entered-in-error', SearchParamTypeTOKEN, [], 'Composition.status', SearchXpathUsageNormal);
  indexes.add('Composition', 'subject', 'Who and/or what the composition is about', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'Composition.subject', SearchXpathUsageNormal);
  indexes.add('Composition', 'title', 'Human Readable name/title', SearchParamTypeSTRING, [], 'Composition.title', SearchXpathUsageNormal);
  indexes.add('Composition', 'type', 'Kind of composition (LOINC if possible)', SearchParamTypeTOKEN, [], 'Composition.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Composition', ['subject', 'author', 'attester']);
  compartments.register(frtEncounter, 'Composition', ['encounter']);
  compartments.register(frtRelatedPerson, 'Composition', ['author']);
  compartments.register(frtPractitioner, 'Composition', ['subject', 'author', 'attester']);
  compartments.register(frtDevice, 'Composition', ['author']);
end;

procedure TFHIRIndexBuilder.buildIndexesForConceptMap(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ConceptMap', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ConceptMap', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ConceptMap', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ConceptMap', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ConceptMap', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ConceptMap', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ConceptMap', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ConceptMap', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'context', 'A use context assigned to the concept map', SearchParamTypeTOKEN, [], 'ConceptMap.useContext', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'date', 'The concept map publication date', SearchParamTypeDATE, [], 'ConceptMap.date', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'dependson', 'Reference to element/field/ValueSet mapping depends on', SearchParamTypeURI, [], 'ConceptMap.element.target.dependsOn.element', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'description', 'Text search in the description of the concept map', SearchParamTypeSTRING, [], 'ConceptMap.description', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'identifier', 'Additional identifier for the concept map', SearchParamTypeTOKEN, [], 'ConceptMap.identifier', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'name', 'Name of the concept map', SearchParamTypeSTRING, [], 'ConceptMap.name', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'product', 'Reference to element/field/ValueSet mapping depends on', SearchParamTypeURI, [], 'ConceptMap.element.target.product.element', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'publisher', 'Name of the publisher of the concept map', SearchParamTypeSTRING, [], 'ConceptMap.publisher', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'source', 'Identifies the source of the concepts which are being mapped', SearchParamTypeREFERENCE, ['ValueSet', 'StructureDefinition'], 'ConceptMap.source.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'source-code', 'Identifies element being mapped', SearchParamTypeTOKEN, [], 'ConceptMap.element.code', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'source-system', 'Code System (if value set crosses code systems)', SearchParamTypeURI, [], 'ConceptMap.element.system', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'source-uri', 'Identifies the source of the concepts which are being mapped', SearchParamTypeREFERENCE, ['ValueSet', 'StructureDefinition'], 'ConceptMap.source.as(Uri)', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'status', 'Status of the concept map', SearchParamTypeTOKEN, [], 'ConceptMap.status', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'target', 'Provides context to the mappings', SearchParamTypeREFERENCE, ['ValueSet', 'StructureDefinition'], 'ConceptMap.target', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'target-code', 'Code that identifies the target element', SearchParamTypeTOKEN, [], 'ConceptMap.element.target.code', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'target-system', 'System of the target (if necessary)', SearchParamTypeURI, [], 'ConceptMap.element.target.system', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'url', 'The URL of the concept map', SearchParamTypeURI, [], 'ConceptMap.url', SearchXpathUsageNormal);
  indexes.add('ConceptMap', 'version', 'The version identifier of the concept map', SearchParamTypeTOKEN, [], 'ConceptMap.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForCondition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Condition', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Condition', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Condition', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Condition', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Condition', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Condition', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Condition', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Condition', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Condition', 'age', 'Search based on Condition onsetAge', SearchParamTypeNUMBER, [], '', SearchXpathUsageNormal);
  indexes.add('Condition', 'asserter', 'Person who asserts this condition', SearchParamTypeREFERENCE, ['Patient', 'Practitioner'], 'Condition.asserter', SearchXpathUsageNormal);
  indexes.add('Condition', 'body-site', 'Anatomical location, if relevant', SearchParamTypeTOKEN, [], 'Condition.bodySite', SearchXpathUsageNormal);
  indexes.add('Condition', 'category', 'The category of the condition', SearchParamTypeTOKEN, [], 'Condition.category', SearchXpathUsageNormal);
  indexes.add('Condition', 'clinicalstatus', 'The clinical status of the condition', SearchParamTypeTOKEN, [], 'Condition.clinicalStatus', SearchXpathUsageNormal);
  indexes.add('Condition', 'code', 'Code for the condition', SearchParamTypeTOKEN, [], 'Condition.code', SearchXpathUsageNormal);
  indexes.add('Condition', 'date-recorded', 'A date, when the Condition statement was documented', SearchParamTypeDATE, [], 'Condition.dateRecorded', SearchXpathUsageNormal);
  indexes.add('Condition', 'encounter', 'Encounter when condition first asserted', SearchParamTypeREFERENCE, ['Encounter'], 'Condition.encounter', SearchXpathUsageNormal);
  indexes.add('Condition', 'evidence', 'Manifestation/symptom', SearchParamTypeTOKEN, [], 'Condition.evidence.code', SearchXpathUsageNormal);
  indexes.add('Condition', 'identifier', 'A unique identifier of the condition record', SearchParamTypeTOKEN, [], 'Condition.identifier', SearchXpathUsageNormal);
  indexes.add('Condition', 'onset', 'Date related onsets (dateTime and Period)', SearchParamTypeDATE, [], 'Condition.onset.as(dateTime) | Condition.onset.as(Period)', SearchXpathUsageNormal);
  indexes.add('Condition', 'onset-info', 'Other onsets (boolean, age, range, string)', SearchParamTypeSTRING, [], 'Condition.onset.as(boolean) | Condition.onset.as(string)', SearchXpathUsageNormal);
  indexes.add('Condition', 'patient', 'Who has the condition?', SearchParamTypeREFERENCE, ['Patient'], 'Condition.patient', SearchXpathUsageNormal);
  indexes.add('Condition', 'severity', 'The severity of the condition', SearchParamTypeTOKEN, [], 'Condition.severity', SearchXpathUsageNormal);
  indexes.add('Condition', 'stage', 'Simple summary (disease specific)', SearchParamTypeTOKEN, [], 'Condition.stage.summary', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Condition', ['patient']);
  compartments.register(frtEncounter, 'Condition', ['encounter']);
  compartments.register(frtPractitioner, 'Condition', ['asserter']);
end;

procedure TFHIRIndexBuilder.buildIndexesForConformance(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Conformance', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Conformance', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Conformance', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Conformance', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Conformance', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Conformance', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Conformance', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Conformance', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Conformance', 'context', 'A use context assigned to the conformance statement', SearchParamTypeTOKEN, [], 'Conformance.useContext', SearchXpathUsageNormal);
  indexes.add('Conformance', 'date', 'The conformance statement publication date', SearchParamTypeDATE, [], 'Conformance.date', SearchXpathUsageNormal);
  indexes.add('Conformance', 'description', 'Text search in the description of the conformance statement', SearchParamTypeSTRING, [], 'Conformance.description', SearchXpathUsageNormal);
  indexes.add('Conformance', 'event', 'Event code in a conformance statement', SearchParamTypeTOKEN, [], 'Conformance.messaging.event.code', SearchXpathUsageNormal);
  indexes.add('Conformance', 'fhirversion', 'The version of FHIR', SearchParamTypeTOKEN, [], 'Conformance.version', SearchXpathUsageNormal);
  indexes.add('Conformance', 'format', 'formats supported (xml | json | mime type)', SearchParamTypeTOKEN, [], 'Conformance.format', SearchXpathUsageNormal);
  indexes.add('Conformance', 'mode', 'Mode - restful (server/client) or messaging (sender/receiver)', SearchParamTypeTOKEN, [], 'Conformance.rest.mode', SearchXpathUsageNormal);
  indexes.add('Conformance', 'name', 'Name of the conformance statement', SearchParamTypeSTRING, [], 'Conformance.name', SearchXpathUsageNormal);
  indexes.add('Conformance', 'publisher', 'Name of the publisher of the conformance statement', SearchParamTypeSTRING, [], 'Conformance.publisher', SearchXpathUsageNormal);
  indexes.add('Conformance', 'resource', 'Name of a resource mentioned in a conformance statement', SearchParamTypeTOKEN, [], 'Conformance.rest.resource.type', SearchXpathUsageNormal);
  indexes.add('Conformance', 'resourceprofile', 'A profile id invoked in a conformance statement', SearchParamTypeREFERENCE, ['StructureDefinition'], 'Conformance.rest.resource.profile', SearchXpathUsageNormal);
  indexes.add('Conformance', 'securityservice', 'OAuth | SMART-on-FHIR | NTLM | Basic | Kerberos | Certificates', SearchParamTypeTOKEN, [], 'Conformance.rest.security.service', SearchXpathUsageNormal);
  indexes.add('Conformance', 'software', 'Part of a the name of a software application', SearchParamTypeSTRING, [], 'Conformance.software.name', SearchXpathUsageNormal);
  indexes.add('Conformance', 'status', 'The current status of the conformance statement', SearchParamTypeTOKEN, [], 'Conformance.status', SearchXpathUsageNormal);
  indexes.add('Conformance', 'supported-profile', 'Profiles for use cases supported', SearchParamTypeREFERENCE, ['StructureDefinition'], 'Conformance.profile', SearchXpathUsageNormal);
  indexes.add('Conformance', 'url', 'The uri that identifies the conformance statement', SearchParamTypeURI, [], 'Conformance.url', SearchXpathUsageNormal);
  indexes.add('Conformance', 'version', 'The version identifier of the conformance statement', SearchParamTypeTOKEN, [], 'Conformance.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForContract(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Contract', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Contract', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Contract', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Contract', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Contract', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Contract', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Contract', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Contract', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Contract', 'agent', 'Agent to the Contact', SearchParamTypeREFERENCE, ['Device', 'Location', 'Organization', 'Patient', 'Contract', 'Practitioner', 'Substance', 'Group', 'RelatedPerson'], 'Contract.agent.actor', SearchXpathUsageNormal);
  indexes.add('Contract', 'authority', 'The authority of the contract', SearchParamTypeREFERENCE, ['Organization'], 'Contract.authority', SearchXpathUsageNormal);
  indexes.add('Contract', 'domain', 'The domain of the contract', SearchParamTypeREFERENCE, ['Location'], 'Contract.domain', SearchXpathUsageNormal);
  indexes.add('Contract', 'identifier', 'The identity of the contract', SearchParamTypeTOKEN, [], 'Contract.identifier', SearchXpathUsageNormal);
  indexes.add('Contract', 'issued', 'The date/time the contract was issued', SearchParamTypeDATE, [], 'Contract.issued', SearchXpathUsageNormal);
  indexes.add('Contract', 'patient', 'The identity of the subject of the contract (if a patient)', SearchParamTypeREFERENCE, ['Patient'], 'Contract.subject', SearchXpathUsageNormal);
  indexes.add('Contract', 'signer', 'Contract Signatory Party', SearchParamTypeREFERENCE, ['Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'Contract.signer.party', SearchXpathUsageNormal);
  indexes.add('Contract', 'subject', 'The identity of the subject of the contract', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'Contract.subject', SearchXpathUsageNormal);
  indexes.add('Contract', 'topic', 'The identity of the topic of the contract', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'Contract.topic', SearchXpathUsageNormal);
  indexes.add('Contract', 'ttopic', 'The identity of the topic of the contract terms', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'Contract.term.topic', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForCoverage(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Coverage', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Coverage', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Coverage', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Coverage', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Coverage', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Coverage', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Coverage', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Coverage', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Coverage', 'beneficiaryidentifier', 'Covered party', SearchParamTypeTOKEN, [], 'Coverage.beneficiary.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('Coverage', 'beneficiaryreference', 'Covered party', SearchParamTypeREFERENCE, ['Patient'], 'Coverage.beneficiary.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Coverage', 'dependent', 'Dependent number', SearchParamTypeTOKEN, [], 'Coverage.dependent', SearchXpathUsageNormal);
  indexes.add('Coverage', 'group', 'Group identifier', SearchParamTypeTOKEN, [], 'Coverage.group', SearchXpathUsageNormal);
  indexes.add('Coverage', 'identifier', 'The primary identifier of the insured and the coverage', SearchParamTypeTOKEN, [], 'Coverage.identifier', SearchXpathUsageNormal);
  indexes.add('Coverage', 'issueridentifier', 'The identity of the insurer', SearchParamTypeTOKEN, [], 'Coverage.issuer.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('Coverage', 'issuerreference', 'The identity of the insurer', SearchParamTypeREFERENCE, ['Organization'], 'Coverage.issuer.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Coverage', 'plan', 'A plan or policy identifier', SearchParamTypeTOKEN, [], 'Coverage.plan', SearchXpathUsageNormal);
  indexes.add('Coverage', 'planholderidentifier', 'Reference to the planholder', SearchParamTypeTOKEN, [], 'Coverage.planholder.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('Coverage', 'planholderreference', 'Reference to the planholder', SearchParamTypeREFERENCE, ['Patient', 'Organization'], 'Coverage.planholder.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Coverage', 'sequence', 'Sequence number', SearchParamTypeTOKEN, [], 'Coverage.sequence', SearchXpathUsageNormal);
  indexes.add('Coverage', 'subplan', 'Sub-plan identifier', SearchParamTypeTOKEN, [], 'Coverage.subPlan', SearchXpathUsageNormal);
  indexes.add('Coverage', 'type', 'The kind of coverage (health plan, auto, Workers Compensation)', SearchParamTypeTOKEN, [], 'Coverage.type', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForDataElement(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DataElement', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DataElement', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DataElement', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DataElement', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DataElement', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DataElement', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DataElement', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DataElement', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DataElement', 'code', 'A code for the data element (server may choose to do subsumption)', SearchParamTypeTOKEN, [], 'DataElement.element.code', SearchXpathUsageNormal);
  indexes.add('DataElement', 'context', 'A use context assigned to the data element', SearchParamTypeTOKEN, [], 'DataElement.useContext', SearchXpathUsageNormal);
  indexes.add('DataElement', 'date', 'The data element publication date', SearchParamTypeDATE, [], 'DataElement.date', SearchXpathUsageNormal);
  indexes.add('DataElement', 'description', 'Text search in the description of the data element.  This corresponds to the definition of the first DataElement.element.', SearchParamTypeSTRING, [], 'DataElement.element.definition', SearchXpathUsageNormal);
  indexes.add('DataElement', 'identifier', 'The identifier of the data element', SearchParamTypeTOKEN, [], 'DataElement.identifier', SearchXpathUsageNormal);
  indexes.add('DataElement', 'name', 'Name of the data element', SearchParamTypeSTRING, [], 'DataElement.name', SearchXpathUsageNormal);
  indexes.add('DataElement', 'objectClass', 'Matches on the 11179-objectClass extension value', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DataElement', 'objectClassProperty', 'Matches on the 11179-objectClassProperty extension value', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DataElement', 'publisher', 'Name of the publisher of the data element', SearchParamTypeSTRING, [], 'DataElement.publisher', SearchXpathUsageNormal);
  indexes.add('DataElement', 'status', 'The current status of the data element', SearchParamTypeTOKEN, [], 'DataElement.status', SearchXpathUsageNormal);
  indexes.add('DataElement', 'stringency', 'The stringency of the data element definition', SearchParamTypeTOKEN, [], 'DataElement.stringency', SearchXpathUsageNormal);
  indexes.add('DataElement', 'url', 'The official URL for the data element', SearchParamTypeURI, [], 'DataElement.url', SearchXpathUsageNormal);
  indexes.add('DataElement', 'version', 'The version identifier of the data element', SearchParamTypeSTRING, [], 'DataElement.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForDecisionSupportRule(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DecisionSupportRule', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', 'description', 'Text search against the description', SearchParamTypeSTRING, [], 'DecisionSupportRule.moduleMetadata.description', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', 'identifier', 'Logical identifier for the module (e.g. CMS-143)', SearchParamTypeTOKEN, [], 'DecisionSupportRule.moduleMetadata.identifier', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', 'status', 'Status of the module', SearchParamTypeTOKEN, [], 'DecisionSupportRule.moduleMetadata.status', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', 'title', 'Text search against the title', SearchParamTypeSTRING, [], 'DecisionSupportRule.moduleMetadata.title', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', 'topic', 'Topics associated with the module', SearchParamTypeTOKEN, [], 'DecisionSupportRule.moduleMetadata.topic', SearchXpathUsageNormal);
  indexes.add('DecisionSupportRule', 'version', 'Version of the module (e.g. 1.0.0)', SearchParamTypeSTRING, [], 'DecisionSupportRule.moduleMetadata.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForDecisionSupportServiceModule(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DecisionSupportServiceModule', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', 'description', 'Text search against the description', SearchParamTypeSTRING, [], 'DecisionSupportServiceModule.moduleMetadata.description', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', 'identifier', 'Logical identifier for the module (e.g. CMS-143)', SearchParamTypeTOKEN, [], 'DecisionSupportServiceModule.moduleMetadata.identifier', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', 'status', 'Status of the module', SearchParamTypeTOKEN, [], 'DecisionSupportServiceModule.moduleMetadata.status', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', 'title', 'Text search against the title', SearchParamTypeSTRING, [], 'DecisionSupportServiceModule.moduleMetadata.title', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', 'topic', 'Topics associated with the module', SearchParamTypeTOKEN, [], 'DecisionSupportServiceModule.moduleMetadata.topic', SearchXpathUsageNormal);
  indexes.add('DecisionSupportServiceModule', 'version', 'Version of the module (e.g. 1.0.0)', SearchParamTypeSTRING, [], 'DecisionSupportServiceModule.moduleMetadata.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForDetectedIssue(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DetectedIssue', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', 'author', 'The provider or device that identified the issue', SearchParamTypeREFERENCE, ['Device', 'Practitioner'], 'DetectedIssue.author', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', 'category', 'Issue Category, e.g. drug-drug, duplicate therapy, etc.', SearchParamTypeTOKEN, [], 'DetectedIssue.category', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', 'date', 'When identified', SearchParamTypeDATE, [], 'DetectedIssue.date', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', 'identifier', 'Unique id for the detected issue', SearchParamTypeTOKEN, [], 'DetectedIssue.identifier', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', 'implicated', 'Problem resource', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'DetectedIssue.implicated', SearchXpathUsageNormal);
  indexes.add('DetectedIssue', 'patient', 'Associated patient', SearchParamTypeREFERENCE, ['Patient'], 'DetectedIssue.patient', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'DetectedIssue', ['patient']);
  compartments.register(frtPractitioner, 'DetectedIssue', ['author']);
  compartments.register(frtDevice, 'DetectedIssue', ['author']);
end;

procedure TFHIRIndexBuilder.buildIndexesForDevice(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Device', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Device', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Device', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Device', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Device', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Device', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Device', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Device', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Device', 'identifier', 'Instance id from manufacturer, owner, and others', SearchParamTypeTOKEN, [], 'Device.identifier', SearchXpathUsageNormal);
  indexes.add('Device', 'location', 'A location, where the resource is found', SearchParamTypeREFERENCE, ['Location'], 'Device.location', SearchXpathUsageNormal);
  indexes.add('Device', 'manufacturer', 'The manufacturer of the device', SearchParamTypeSTRING, [], 'Device.manufacturer', SearchXpathUsageNormal);
  indexes.add('Device', 'model', 'The model of the device', SearchParamTypeSTRING, [], 'Device.model', SearchXpathUsageNormal);
  indexes.add('Device', 'organization', 'The organization responsible for the device', SearchParamTypeREFERENCE, ['Organization'], 'Device.owner', SearchXpathUsageNormal);
  indexes.add('Device', 'patient', 'Patient information, if the resource is affixed to a person', SearchParamTypeREFERENCE, ['Patient'], 'Device.patient', SearchXpathUsageNormal);
  indexes.add('Device', 'type', 'The type of the device', SearchParamTypeTOKEN, [], 'Device.type', SearchXpathUsageNormal);
  indexes.add('Device', 'udicarrier', 'Barcode string (udi)', SearchParamTypeTOKEN, [], 'Device.udiCarrier', SearchXpathUsageNormal);
  indexes.add('Device', 'url', 'Network address to contact device', SearchParamTypeURI, [], 'Device.url', SearchXpathUsageNormal);
  compartments.register(frtDevice, 'Device', ['{def}']);
end;

procedure TFHIRIndexBuilder.buildIndexesForDeviceComponent(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DeviceComponent', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', 'parent', 'The parent DeviceComponent resource', SearchParamTypeREFERENCE, ['DeviceComponent'], 'DeviceComponent.parent', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', 'source', 'The device source', SearchParamTypeREFERENCE, ['Device'], 'DeviceComponent.source', SearchXpathUsageNormal);
  indexes.add('DeviceComponent', 'type', 'The device component type', SearchParamTypeTOKEN, [], 'DeviceComponent.type', SearchXpathUsageNormal);
  compartments.register(frtDevice, 'DeviceComponent', ['source']);
end;

procedure TFHIRIndexBuilder.buildIndexesForDeviceMetric(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DeviceMetric', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', 'category', 'The category of the metric', SearchParamTypeTOKEN, [], 'DeviceMetric.category', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', 'identifier', 'The identifier of the metric', SearchParamTypeTOKEN, [], 'DeviceMetric.identifier', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', 'parent', 'The parent DeviceMetric resource', SearchParamTypeREFERENCE, ['DeviceComponent'], 'DeviceMetric.parent', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', 'source', 'The device resource', SearchParamTypeREFERENCE, ['Device'], 'DeviceMetric.source', SearchXpathUsageNormal);
  indexes.add('DeviceMetric', 'type', 'The component type', SearchParamTypeTOKEN, [], 'DeviceMetric.type', SearchXpathUsageNormal);
  compartments.register(frtDevice, 'DeviceMetric', ['source']);
end;

procedure TFHIRIndexBuilder.buildIndexesForDeviceUseRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DeviceUseRequest', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', 'device', 'Device requested', SearchParamTypeREFERENCE, ['Device'], 'DeviceUseRequest.device', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', 'patient', 'Search by subject - a patient', SearchParamTypeREFERENCE, ['Patient'], 'DeviceUseRequest.subject', SearchXpathUsageNormal);
  indexes.add('DeviceUseRequest', 'subject', 'Search by subject', SearchParamTypeREFERENCE, ['Patient'], 'DeviceUseRequest.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'DeviceUseRequest', ['subject']);
  compartments.register(frtDevice, 'DeviceUseRequest', ['device']);
end;

procedure TFHIRIndexBuilder.buildIndexesForDeviceUseStatement(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DeviceUseStatement', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', 'device', 'Search by device', SearchParamTypeREFERENCE, ['Device'], 'DeviceUseStatement.device', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', 'patient', 'Search by subject - a patient', SearchParamTypeREFERENCE, ['Patient'], 'DeviceUseStatement.subject', SearchXpathUsageNormal);
  indexes.add('DeviceUseStatement', 'subject', 'Search by subject', SearchParamTypeREFERENCE, ['Patient'], 'DeviceUseStatement.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'DeviceUseStatement', ['subject']);
  compartments.register(frtDevice, 'DeviceUseStatement', ['device']);
end;

procedure TFHIRIndexBuilder.buildIndexesForDiagnosticOrder(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DiagnosticOrder', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'actor', 'Who recorded or did this', SearchParamTypeREFERENCE, ['Device', 'Practitioner'], 'DiagnosticOrder.event.actor | DiagnosticOrder.item.event.actor', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'bodysite', 'Location of requested test (if applicable)', SearchParamTypeTOKEN, [], 'DiagnosticOrder.item.bodySite', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'code', 'Code to indicate the item (test or panel) being ordered', SearchParamTypeTOKEN, [], 'DiagnosticOrder.item.code', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'encounter', 'The encounter that this diagnostic order is associated with', SearchParamTypeREFERENCE, ['Encounter'], 'DiagnosticOrder.encounter', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'event-date', 'The date at which the event happened', SearchParamTypeDATE, [], 'DiagnosticOrder.event.dateTime', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'event-status', 'proposed | draft | planned | requested | received | accepted | in-progress | review | completed | cancelled | suspended | rejected | failed | entered-in-error', SearchParamTypeTOKEN, [], 'DiagnosticOrder.event.status', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'event-status-date', 'A combination of past-status and date', SearchParamTypeCOMPOSITE, [], '', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'identifier', 'Identifiers assigned to this order', SearchParamTypeTOKEN, [], 'DiagnosticOrder.identifier', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'item-date', 'The date at which the event happened', SearchParamTypeDATE, [], 'DiagnosticOrder.item.event.dateTime', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'item-past-status', 'proposed | draft | planned | requested | received | accepted | in-progress | review | completed | cancelled | suspended | rejected | failed | entered-in-error', SearchParamTypeTOKEN, [], 'DiagnosticOrder.item.event.status', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'item-status', 'proposed | draft | planned | requested | received | accepted | in-progress | review | completed | cancelled | suspended | rejected | failed | entered-in-error', SearchParamTypeTOKEN, [], 'DiagnosticOrder.item.status', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'item-status-date', 'A combination of item-past-status and item-date', SearchParamTypeCOMPOSITE, [], '', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'orderer', 'Who ordered the test', SearchParamTypeREFERENCE, ['Practitioner'], 'DiagnosticOrder.orderer', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'patient', 'Who and/or what test is about', SearchParamTypeREFERENCE, ['Patient'], 'DiagnosticOrder.subject', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'specimen', 'If the whole order relates to specific specimens', SearchParamTypeREFERENCE, ['Specimen'], 'DiagnosticOrder.specimen | DiagnosticOrder.item.specimen', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'status', 'proposed | draft | planned | requested | received | accepted | in-progress | review | completed | cancelled | suspended | rejected | failed | entered-in-error', SearchParamTypeTOKEN, [], 'DiagnosticOrder.status', SearchXpathUsageNormal);
  indexes.add('DiagnosticOrder', 'subject', 'Who and/or what test is about', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Location', 'Group'], 'DiagnosticOrder.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'DiagnosticOrder', ['subject']);
  compartments.register(frtEncounter, 'DiagnosticOrder', ['encounter']);
  compartments.register(frtPractitioner, 'DiagnosticOrder', ['actor', 'orderer']);
  compartments.register(frtDevice, 'DiagnosticOrder', ['actor', 'subject']);
end;

procedure TFHIRIndexBuilder.buildIndexesForDiagnosticReport(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DiagnosticReport', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'category', 'Which diagnostic discipline/department created the report', SearchParamTypeTOKEN, [], 'DiagnosticReport.category', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'code', 'The code for the report as a whole, as opposed to codes for the atomic results, which are the names on the observation resource referred to from the result', SearchParamTypeTOKEN, [], 'DiagnosticReport.code', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'date', 'The clinically relevant time of the report', SearchParamTypeDATE, [], 'DiagnosticReport.effective', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'diagnosis', 'A coded diagnosis on the report', SearchParamTypeTOKEN, [], 'DiagnosticReport.codedDiagnosis', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'encounter', 'The Encounter when the order was made', SearchParamTypeREFERENCE, ['Encounter'], 'DiagnosticReport.encounter', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'identifier', 'An identifier for the report', SearchParamTypeTOKEN, [], 'DiagnosticReport.identifier', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'image', 'A reference to the image source.', SearchParamTypeREFERENCE, ['Media'], 'DiagnosticReport.image.link', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'issued', 'When the report was issued', SearchParamTypeDATE, [], 'DiagnosticReport.issued', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'patient', 'The subject of the report if a patient', SearchParamTypeREFERENCE, ['Patient'], 'DiagnosticReport.subject', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'performer', 'Who was the source of the report (organization)', SearchParamTypeREFERENCE, ['Organization', 'Practitioner'], 'DiagnosticReport.performer', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'request', 'Reference to the test or procedure request.', SearchParamTypeREFERENCE, ['ReferralRequest', 'ProcedureRequest', 'DiagnosticOrder'], 'DiagnosticReport.request', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'result', 'Link to an atomic result (observation resource)', SearchParamTypeREFERENCE, ['Observation'], 'DiagnosticReport.result', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'specimen', 'The specimen details', SearchParamTypeREFERENCE, ['Specimen'], 'DiagnosticReport.specimen', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'status', 'The status of the report', SearchParamTypeTOKEN, [], 'DiagnosticReport.status', SearchXpathUsageNormal);
  indexes.add('DiagnosticReport', 'subject', 'The subject of the report', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Location', 'Group'], 'DiagnosticReport.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'DiagnosticReport', ['subject']);
  compartments.register(frtEncounter, 'DiagnosticReport', ['encounter']);
  compartments.register(frtPractitioner, 'DiagnosticReport', ['performer']);
  compartments.register(frtDevice, 'DiagnosticReport', ['subject']);
end;

procedure TFHIRIndexBuilder.buildIndexesForDocumentManifest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DocumentManifest', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'author', 'Who and/or what authored the manifest', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'DocumentManifest.author', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'content-ref', 'Contents of this set of documents', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'DocumentManifest.content.p.as(Reference)', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'created', 'When this document manifest created', SearchParamTypeDATE, [], 'DocumentManifest.created', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'description', 'Human-readable description (title)', SearchParamTypeSTRING, [], 'DocumentManifest.description', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'identifier', 'Unique Identifier for the set of documents', SearchParamTypeTOKEN, [], 'DocumentManifest.masterIdentifier | DocumentManifest.identifier', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'patient', 'The subject of the set of documents', SearchParamTypeREFERENCE, ['Patient'], 'DocumentManifest.subject', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'recipient', 'Intended to get notified about this set of documents', SearchParamTypeREFERENCE, ['Patient', 'Organization', 'Practitioner', 'RelatedPerson'], 'DocumentManifest.recipient', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'related-id', 'Identifiers of things that are related', SearchParamTypeTOKEN, [], 'DocumentManifest.related.identifier', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'related-ref', 'Related Resource', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'DocumentManifest.related.ref', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'source', 'The source system/application/software', SearchParamTypeURI, [], 'DocumentManifest.source', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'status', 'current | superseded | entered-in-error', SearchParamTypeTOKEN, [], 'DocumentManifest.status', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'subject', 'The subject of the set of documents', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Practitioner', 'Group'], 'DocumentManifest.subject', SearchXpathUsageNormal);
  indexes.add('DocumentManifest', 'type', 'Kind of document set', SearchParamTypeTOKEN, [], 'DocumentManifest.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'DocumentManifest', ['subject', 'author', 'recipient']);
  compartments.register(frtRelatedPerson, 'DocumentManifest', ['author']);
  compartments.register(frtPractitioner, 'DocumentManifest', ['subject', 'author', 'recipient']);
  compartments.register(frtDevice, 'DocumentManifest', ['subject', 'author']);
end;

procedure TFHIRIndexBuilder.buildIndexesForDocumentReference(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('DocumentReference', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DocumentReference', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('DocumentReference', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('DocumentReference', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('DocumentReference', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('DocumentReference', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('DocumentReference', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('DocumentReference', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'authenticator', 'Who/what authenticated the document', SearchParamTypeREFERENCE, ['Organization', 'Practitioner'], 'DocumentReference.authenticator', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'author', 'Who and/or what authored the document', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'DocumentReference.author', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'class', 'Categorization of document', SearchParamTypeTOKEN, [], 'DocumentReference.class', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'created', 'Document creation time', SearchParamTypeDATE, [], 'DocumentReference.created', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'custodian', 'Organization which maintains the document', SearchParamTypeREFERENCE, ['Organization'], 'DocumentReference.custodian', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'description', 'Human-readable description (title)', SearchParamTypeSTRING, [], 'DocumentReference.description', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'encounter', 'Context of the document  content', SearchParamTypeREFERENCE, ['Encounter'], 'DocumentReference.context.encounter', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'event', 'Main Clinical Acts Documented', SearchParamTypeTOKEN, [], 'DocumentReference.context.event', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'facility', 'Kind of facility where patient was seen', SearchParamTypeTOKEN, [], 'DocumentReference.context.facilityType', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'format', 'Format/content rules for the document', SearchParamTypeTOKEN, [], 'DocumentReference.content.format', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'identifier', 'Master Version Specific Identifier', SearchParamTypeTOKEN, [], 'DocumentReference.masterIdentifier | DocumentReference.identifier', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'indexed', 'When this document reference created', SearchParamTypeDATE, [], 'DocumentReference.indexed', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'language', 'Human language of the content (BCP-47)', SearchParamTypeTOKEN, [], 'DocumentReference.content.attachment.language', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'location', 'Uri where the data can be found', SearchParamTypeURI, [], 'DocumentReference.content.attachment.url', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'patient', 'Who/what is the subject of the document', SearchParamTypeREFERENCE, ['Patient'], 'DocumentReference.subject', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'period', 'Time of service that is being documented', SearchParamTypeDATE, [], 'DocumentReference.context.period', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'related-id', 'Identifier of related objects or events', SearchParamTypeTOKEN, [], 'DocumentReference.context.related.identifier', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'related-ref', 'Related Resource', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'DocumentReference.context.related.ref', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'relatesto', 'Target of the relationship', SearchParamTypeREFERENCE, ['DocumentReference'], 'DocumentReference.relatesTo.target', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'relation', 'replaces | transforms | signs | appends', SearchParamTypeTOKEN, [], 'DocumentReference.relatesTo.code', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'relationship', 'Combination of relation and relatesTo', SearchParamTypeCOMPOSITE, [], '', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'securitylabel', 'Document security-tags', SearchParamTypeTOKEN, [], 'DocumentReference.securityLabel', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'setting', 'Additional details about where the content was created (e.g. clinical specialty)', SearchParamTypeTOKEN, [], 'DocumentReference.context.practiceSetting', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'status', 'current | superseded | entered-in-error', SearchParamTypeTOKEN, [], 'DocumentReference.status', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'subject', 'Who/what is the subject of the document', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Practitioner', 'Group'], 'DocumentReference.subject', SearchXpathUsageNormal);
  indexes.add('DocumentReference', 'type', 'Kind of document (LOINC if possible)', SearchParamTypeTOKEN, [], 'DocumentReference.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'DocumentReference', ['subject', 'author']);
  compartments.register(frtRelatedPerson, 'DocumentReference', ['author']);
  compartments.register(frtPractitioner, 'DocumentReference', ['subject', 'author', 'authenticator']);
  compartments.register(frtDevice, 'DocumentReference', ['subject', 'author']);
end;

procedure TFHIRIndexBuilder.buildIndexesForEligibilityRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('EligibilityRequest', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'created', 'The creation date for the EOB', SearchParamTypeDATE, [], 'EligibilityRequest.created', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'facilityidentifier', 'Facility responsible for the goods and services', SearchParamTypeTOKEN, [], 'EligibilityRequest.facility.as(identifier)', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'facilityreference', 'Facility responsible for the goods and services', SearchParamTypeREFERENCE, ['Location'], 'EligibilityRequest.facility.as(Reference)', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'identifier', 'The business identifier of the Eligibility', SearchParamTypeTOKEN, [], 'EligibilityRequest.identifier', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'organizationidentifier', 'The reference to the providing organization', SearchParamTypeTOKEN, [], 'EligibilityRequest.organization.as(identifier)', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'organizationreference', 'The reference to the providing organization', SearchParamTypeREFERENCE, ['Organization'], 'EligibilityRequest.organization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'patientidentifier', 'The reference to the patient', SearchParamTypeTOKEN, [], 'EligibilityRequest.patient.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'patientreference', 'The reference to the patient', SearchParamTypeREFERENCE, ['Patient'], 'EligibilityRequest.patient.as(Reference)', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'provideridentifier', 'The reference to the provider', SearchParamTypeTOKEN, [], 'EligibilityRequest.provider.as(identifier)', SearchXpathUsageNormal);
  indexes.add('EligibilityRequest', 'providerreference', 'The reference to the provider', SearchParamTypeREFERENCE, ['Practitioner'], 'EligibilityRequest.provider.as(Reference)', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForEligibilityResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('EligibilityResponse', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'created', 'The creation date', SearchParamTypeDATE, [], 'EligibilityResponse.created', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'disposition', 'The contents of the disposition message', SearchParamTypeSTRING, [], 'EligibilityResponse.disposition', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'identifier', 'The business identifier', SearchParamTypeTOKEN, [], 'EligibilityResponse.identifier', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'organizationidentifier', 'The organization which generated this resource', SearchParamTypeTOKEN, [], 'EligibilityResponse.organization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'organizationreference', 'The organization which generated this resource', SearchParamTypeREFERENCE, ['Organization'], 'EligibilityResponse.organization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'outcome', 'The processing outcome', SearchParamTypeTOKEN, [], 'EligibilityResponse.outcome', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'requestidentifier', 'The EligibilityRequest reference', SearchParamTypeTOKEN, [], 'EligibilityResponse.request.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'requestorganizationidentifier', 'The EligibilityRequest organization', SearchParamTypeTOKEN, [], 'EligibilityResponse.requestOrganization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'requestorganizationreference', 'The EligibilityRequest organization', SearchParamTypeREFERENCE, ['Organization'], 'EligibilityResponse.requestOrganization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'requestprovideridentifier', 'The EligibilityRequest provider', SearchParamTypeTOKEN, [], 'EligibilityResponse.requestProvider.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'requestproviderreference', 'The EligibilityRequest provider', SearchParamTypeREFERENCE, ['Practitioner'], 'EligibilityResponse.requestProvider.as(Reference)', SearchXpathUsageNormal);
  indexes.add('EligibilityResponse', 'requestreference', 'The EligibilityRequest reference', SearchParamTypeREFERENCE, ['EligibilityRequest'], 'EligibilityResponse.request.as(Reference)', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForEncounter(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Encounter', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Encounter', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Encounter', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Encounter', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Encounter', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Encounter', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Encounter', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Encounter', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Encounter', 'appointment', 'The appointment that scheduled this encounter', SearchParamTypeREFERENCE, ['Appointment'], 'Encounter.appointment', SearchXpathUsageNormal);
  indexes.add('Encounter', 'condition', 'Reason the encounter takes place (resource)', SearchParamTypeREFERENCE, ['Condition'], 'Encounter.indication', SearchXpathUsageNormal);
  indexes.add('Encounter', 'date', 'A date within the period the Encounter lasted', SearchParamTypeDATE, [], 'Encounter.period', SearchXpathUsageNormal);
  indexes.add('Encounter', 'episodeofcare', 'Episode(s) of care that this encounter should be recorded against', SearchParamTypeREFERENCE, ['EpisodeOfCare'], 'Encounter.episodeOfCare', SearchXpathUsageNormal);
  indexes.add('Encounter', 'identifier', 'Identifier(s) by which this encounter is known', SearchParamTypeTOKEN, [], 'Encounter.identifier', SearchXpathUsageNormal);
  indexes.add('Encounter', 'incomingreferral', 'The ReferralRequest that initiated this encounter', SearchParamTypeREFERENCE, ['ReferralRequest'], 'Encounter.incomingReferral', SearchXpathUsageNormal);
  indexes.add('Encounter', 'indication', 'Reason the encounter takes place (resource)', SearchParamTypeREFERENCE, ['Condition', 'Procedure'], 'Encounter.indication', SearchXpathUsageNormal);
  indexes.add('Encounter', 'length', 'Length of encounter in days', SearchParamTypeNUMBER, [], 'Encounter.length', SearchXpathUsageNormal);
  indexes.add('Encounter', 'location', 'Location the encounter takes place', SearchParamTypeREFERENCE, ['Location'], 'Encounter.location.location', SearchXpathUsageNormal);
  indexes.add('Encounter', 'location-period', 'Time period during which the patient was present at the location', SearchParamTypeDATE, [], 'Encounter.location.period', SearchXpathUsageNormal);
  indexes.add('Encounter', 'part-of', 'Another Encounter this encounter is part of', SearchParamTypeREFERENCE, ['Encounter'], 'Encounter.partOf', SearchXpathUsageNormal);
  indexes.add('Encounter', 'participant', 'Persons involved in the encounter other than the patient', SearchParamTypeREFERENCE, ['Practitioner', 'RelatedPerson'], 'Encounter.participant.individual', SearchXpathUsageNormal);
  indexes.add('Encounter', 'participant-type', 'Role of participant in encounter', SearchParamTypeTOKEN, [], 'Encounter.participant.type', SearchXpathUsageNormal);
  indexes.add('Encounter', 'patient', 'The patient present at the encounter', SearchParamTypeREFERENCE, ['Patient'], 'Encounter.patient', SearchXpathUsageNormal);
  indexes.add('Encounter', 'practitioner', 'Persons involved in the encounter other than the patient', SearchParamTypeREFERENCE, ['Practitioner'], 'Encounter.participant.individual', SearchXpathUsageNormal);
  indexes.add('Encounter', 'procedure', 'Reason the encounter takes place (resource)', SearchParamTypeREFERENCE, ['Procedure'], 'Encounter.indication', SearchXpathUsageNormal);
  indexes.add('Encounter', 'reason', 'Reason the encounter takes place (code)', SearchParamTypeTOKEN, [], 'Encounter.reason', SearchXpathUsageNormal);
  indexes.add('Encounter', 'special-arrangement', 'Wheelchair, translator, stretcher, etc.', SearchParamTypeTOKEN, [], 'Encounter.hospitalization.specialArrangement', SearchXpathUsageNormal);
  indexes.add('Encounter', 'status', 'planned | arrived | in-progress | onleave | finished | cancelled', SearchParamTypeTOKEN, [], 'Encounter.status', SearchXpathUsageNormal);
  indexes.add('Encounter', 'type', 'Specific type of encounter', SearchParamTypeTOKEN, [], 'Encounter.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Encounter', ['patient']);
  compartments.register(frtEncounter, 'Encounter', ['{def}']);
  compartments.register(frtRelatedPerson, 'Encounter', ['participant']);
  compartments.register(frtPractitioner, 'Encounter', ['practitioner', 'participant']);
end;

procedure TFHIRIndexBuilder.buildIndexesForEnrollmentRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('EnrollmentRequest', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', 'identifier', 'The business identifier of the Enrollment', SearchParamTypeTOKEN, [], 'EnrollmentRequest.identifier', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', 'patient', 'The party to be enrolled', SearchParamTypeREFERENCE, ['Patient'], 'EnrollmentRequest.subject', SearchXpathUsageNormal);
  indexes.add('EnrollmentRequest', 'subject', 'The party to be enrolled', SearchParamTypeREFERENCE, ['Patient'], 'EnrollmentRequest.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'EnrollmentRequest', ['subject']);
end;

procedure TFHIRIndexBuilder.buildIndexesForEnrollmentResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('EnrollmentResponse', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EnrollmentResponse', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('EnrollmentResponse', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('EnrollmentResponse', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('EnrollmentResponse', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('EnrollmentResponse', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('EnrollmentResponse', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('EnrollmentResponse', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EnrollmentResponse', 'identifier', 'The business identifier of the Explanation of Benefit', SearchParamTypeTOKEN, [], 'EnrollmentResponse.identifier', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForEpisodeOfCare(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('EpisodeOfCare', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', 'care-manager', 'Care manager/care co-ordinator for the patient', SearchParamTypeREFERENCE, ['Practitioner'], 'EpisodeOfCare.careManager', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', 'condition', 'Conditions/problems/diagnoses this episode of care is for', SearchParamTypeREFERENCE, ['Condition'], 'EpisodeOfCare.condition', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', 'date', 'The provided date search value falls within the episode of care''s period', SearchParamTypeDATE, [], 'EpisodeOfCare.period', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', 'identifier', 'Identifier(s) for the EpisodeOfCare', SearchParamTypeTOKEN, [], 'EpisodeOfCare.identifier', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', 'incomingreferral', 'Incoming Referral Request', SearchParamTypeREFERENCE, ['ReferralRequest'], 'EpisodeOfCare.referralRequest', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', 'organization', 'The organization that has assumed the specific responsibilities of this EpisodeOfCare', SearchParamTypeREFERENCE, ['Organization'], 'EpisodeOfCare.managingOrganization', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', 'patient', 'Patient for this episode of care', SearchParamTypeREFERENCE, ['Patient'], 'EpisodeOfCare.patient', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', 'status', 'The current status of the Episode of Care as provided (does not check the status history collection)', SearchParamTypeTOKEN, [], 'EpisodeOfCare.status', SearchXpathUsageNormal);
  indexes.add('EpisodeOfCare', 'type', 'Type/class  - e.g. specialist referral, disease management', SearchParamTypeTOKEN, [], 'EpisodeOfCare.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'EpisodeOfCare', ['patient']);
  compartments.register(frtPractitioner, 'EpisodeOfCare', ['care-manager']);
end;

procedure TFHIRIndexBuilder.buildIndexesForExpansionProfile(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ExpansionProfile', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', 'date', 'The expansion profile publication date', SearchParamTypeDATE, [], 'ExpansionProfile.date', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', 'description', 'Text search in the description of the expansion profile', SearchParamTypeSTRING, [], 'ExpansionProfile.description', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', 'identifier', 'The identifier for the expansion profile', SearchParamTypeTOKEN, [], 'ExpansionProfile.identifier', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', 'name', 'The name of the expansion profile', SearchParamTypeSTRING, [], 'ExpansionProfile.name', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', 'publisher', 'Name of the publisher of the expansion profile', SearchParamTypeSTRING, [], 'ExpansionProfile.publisher', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', 'status', 'The status of the expansion profile', SearchParamTypeTOKEN, [], 'ExpansionProfile.status', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', 'url', 'The logical URL for the expansion profile', SearchParamTypeURI, [], 'ExpansionProfile.url', SearchXpathUsageNormal);
  indexes.add('ExpansionProfile', 'version', 'The version identifier of the expansion profile', SearchParamTypeTOKEN, [], 'ExpansionProfile.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForExplanationOfBenefit(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ExplanationOfBenefit', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'claimindentifier', 'The reference to the claim', SearchParamTypeTOKEN, [], 'ExplanationOfBenefit.claim.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'claimreference', 'The reference to the claim', SearchParamTypeREFERENCE, ['Claim'], 'ExplanationOfBenefit.claim.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'created', 'The creation date for the EOB', SearchParamTypeDATE, [], 'ExplanationOfBenefit.created', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'disposition', 'The contents of the disposition message', SearchParamTypeSTRING, [], 'ExplanationOfBenefit.disposition', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'facilityidentifier', 'Facility responsible for the goods and services', SearchParamTypeTOKEN, [], 'ExplanationOfBenefit.facility.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'facilityreference', 'Facility responsible for the goods and services', SearchParamTypeREFERENCE, ['Location'], 'ExplanationOfBenefit.facility.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'identifier', 'The business identifier of the Explanation of Benefit', SearchParamTypeTOKEN, [], 'ExplanationOfBenefit.identifier', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'organizationidentifier', 'The reference to the providing organization', SearchParamTypeTOKEN, [], 'ExplanationOfBenefit.organization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'organizationreference', 'The reference to the providing organization', SearchParamTypeREFERENCE, ['Organization'], 'ExplanationOfBenefit.organization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'patientidentifier', 'The reference to the patient', SearchParamTypeTOKEN, [], 'ExplanationOfBenefit.patient.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'patientreference', 'The reference to the patient', SearchParamTypeREFERENCE, ['Patient'], 'ExplanationOfBenefit.patient.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'provideridentifier', 'The reference to the provider', SearchParamTypeTOKEN, [], 'ExplanationOfBenefit.provider.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ExplanationOfBenefit', 'providerreference', 'The reference to the provider', SearchParamTypeREFERENCE, ['Practitioner'], 'ExplanationOfBenefit.provider.as(Reference)', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForFamilyMemberHistory(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('FamilyMemberHistory', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', 'code', 'A search by a condition code', SearchParamTypeTOKEN, [], 'FamilyMemberHistory.condition.code', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', 'condition', 'Search for a history of a particular condition within a patient''s family.', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', 'date', 'When history was captured/updated', SearchParamTypeDATE, [], 'FamilyMemberHistory.date', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', 'gender', 'A search by a gender code of a family member', SearchParamTypeTOKEN, [], 'FamilyMemberHistory.gender', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', 'identifier', 'A search by a record identifier', SearchParamTypeTOKEN, [], 'FamilyMemberHistory.identifier', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', 'patient', 'The identity of a subject to list family member history items for', SearchParamTypeREFERENCE, ['Patient'], 'FamilyMemberHistory.patient', SearchXpathUsageNormal);
  indexes.add('FamilyMemberHistory', 'relationship', 'Search for family history of members based on relationship', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'FamilyMemberHistory', ['patient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForFlag(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Flag', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Flag', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Flag', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Flag', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Flag', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Flag', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Flag', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Flag', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Flag', 'author', 'Flag creator', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner'], 'Flag.author', SearchXpathUsageNormal);
  indexes.add('Flag', 'date', 'Time period when flag is active', SearchParamTypeDATE, [], 'Flag.period', SearchXpathUsageNormal);
  indexes.add('Flag', 'encounter', 'Alert relevant during encounter', SearchParamTypeREFERENCE, ['Encounter'], 'Flag.encounter', SearchXpathUsageNormal);
  indexes.add('Flag', 'patient', 'The identity of a subject to list flags for', SearchParamTypeREFERENCE, ['Patient'], 'Flag.subject', SearchXpathUsageNormal);
  indexes.add('Flag', 'subject', 'The identity of a subject to list flags for', SearchParamTypeREFERENCE, ['Patient', 'Location', 'Organization', 'Practitioner', 'Group'], 'Flag.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Flag', ['patient']);
  compartments.register(frtPractitioner, 'Flag', ['author']);
  compartments.register(frtDevice, 'Flag', ['author']);
end;

procedure TFHIRIndexBuilder.buildIndexesForGoal(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Goal', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Goal', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Goal', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Goal', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Goal', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Goal', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Goal', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Goal', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Goal', 'category', 'E.g. Treatment, dietary, behavioral, etc.', SearchParamTypeTOKEN, [], 'Goal.category', SearchXpathUsageNormal);
  indexes.add('Goal', 'identifier', 'External Ids for this goal', SearchParamTypeTOKEN, [], 'Goal.identifier', SearchXpathUsageNormal);
  indexes.add('Goal', 'patient', 'Who this goal is intended for', SearchParamTypeREFERENCE, ['Patient'], 'Goal.subject', SearchXpathUsageNormal);
  indexes.add('Goal', 'status', 'proposed | planned | accepted | rejected | in-progress | achieved | sustaining | on-hold | cancelled', SearchParamTypeTOKEN, [], 'Goal.status', SearchXpathUsageNormal);
  indexes.add('Goal', 'subject', 'Who this goal is intended for', SearchParamTypeREFERENCE, ['Patient', 'Organization', 'Group'], 'Goal.subject', SearchXpathUsageNormal);
  indexes.add('Goal', 'targetdate', 'Reach goal on or before', SearchParamTypeDATE, [], 'Goal.target.as(Date)', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Goal', ['patient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForGroup(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Group', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Group', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Group', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Group', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Group', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Group', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Group', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Group', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Group', 'actual', 'Descriptive or actual', SearchParamTypeTOKEN, [], 'Group.actual', SearchXpathUsageNormal);
  indexes.add('Group', 'characteristic', 'Kind of characteristic', SearchParamTypeTOKEN, [], 'Group.characteristic.code', SearchXpathUsageNormal);
  indexes.add('Group', 'characteristic-value', 'A composite of both characteristic and value', SearchParamTypeCOMPOSITE, [], '', SearchXpathUsageNormal);
  indexes.add('Group', 'code', 'The kind of resources contained', SearchParamTypeTOKEN, [], 'Group.code', SearchXpathUsageNormal);
  indexes.add('Group', 'exclude', 'Group includes or excludes', SearchParamTypeTOKEN, [], 'Group.characteristic.exclude', SearchXpathUsageNormal);
  indexes.add('Group', 'identifier', 'Unique id', SearchParamTypeTOKEN, [], 'Group.identifier', SearchXpathUsageNormal);
  indexes.add('Group', 'member', 'Reference to the group member', SearchParamTypeREFERENCE, ['Medication', 'Device', 'Patient', 'Practitioner', 'Substance'], 'Group.member.entity', SearchXpathUsageNormal);
  indexes.add('Group', 'type', 'The type of resources the group contains', SearchParamTypeTOKEN, [], 'Group.type', SearchXpathUsageNormal);
  indexes.add('Group', 'value', 'Value held by characteristic', SearchParamTypeTOKEN, [], 'Group.characteristic.value', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Group', ['member']);
  compartments.register(frtPractitioner, 'Group', ['member']);
  compartments.register(frtDevice, 'Group', ['member']);
end;

procedure TFHIRIndexBuilder.buildIndexesForGuidanceResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('GuidanceResponse', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('GuidanceResponse', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('GuidanceResponse', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('GuidanceResponse', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('GuidanceResponse', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('GuidanceResponse', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('GuidanceResponse', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('GuidanceResponse', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForHealthcareService(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('HealthcareService', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('HealthcareService', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('HealthcareService', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('HealthcareService', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('HealthcareService', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('HealthcareService', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('HealthcareService', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('HealthcareService', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('HealthcareService', 'characteristic', 'One of the HealthcareService''s characteristics', SearchParamTypeTOKEN, [], 'HealthcareService.characteristic', SearchXpathUsageNormal);
  indexes.add('HealthcareService', 'identifier', 'External identifiers for this item', SearchParamTypeTOKEN, [], 'HealthcareService.identifier', SearchXpathUsageNormal);
  indexes.add('HealthcareService', 'location', 'The location of the Healthcare Service', SearchParamTypeREFERENCE, ['Location'], 'HealthcareService.location', SearchXpathUsageNormal);
  indexes.add('HealthcareService', 'name', 'A portion of the Healthcare service name', SearchParamTypeSTRING, [], 'HealthcareService.serviceName', SearchXpathUsageNormal);
  indexes.add('HealthcareService', 'organization', 'The organization that provides this Healthcare Service', SearchParamTypeREFERENCE, ['Organization'], 'HealthcareService.providedBy', SearchXpathUsageNormal);
  indexes.add('HealthcareService', 'programname', 'One of the Program Names serviced by this HealthcareService', SearchParamTypeSTRING, [], 'HealthcareService.programName', SearchXpathUsageNormal);
  indexes.add('HealthcareService', 'servicecategory', 'Service Category of the Healthcare Service', SearchParamTypeTOKEN, [], 'HealthcareService.serviceCategory', SearchXpathUsageNormal);
  indexes.add('HealthcareService', 'servicetype', 'The type of service provided by this healthcare service', SearchParamTypeTOKEN, [], 'HealthcareService.serviceType', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForImagingExcerpt(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ImagingExcerpt', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', 'author', 'Author of key DICOM object selection', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'ImagingExcerpt.author', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', 'authoring-time', 'Time of key DICOM object selection authoring', SearchParamTypeDATE, [], 'ImagingExcerpt.authoringTime', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', 'identifier', 'UID of key DICOM object selection', SearchParamTypeURI, [], 'ImagingExcerpt.uid', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', 'patient', 'Subject of key DICOM object selection', SearchParamTypeREFERENCE, ['Patient'], 'ImagingExcerpt.patient', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', 'selected-study', 'Study selected in key DICOM object selection', SearchParamTypeURI, [], 'ImagingExcerpt.study.uid', SearchXpathUsageNormal);
  indexes.add('ImagingExcerpt', 'title', 'Title of key DICOM object selection', SearchParamTypeTOKEN, [], 'ImagingExcerpt.title', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'ImagingExcerpt', ['patient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForImagingObjectSelection(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ImagingObjectSelection', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', 'author', 'Author of key DICOM object selection', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'ImagingObjectSelection.author', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', 'authoring-time', 'Time of key DICOM object selection authoring', SearchParamTypeDATE, [], 'ImagingObjectSelection.authoringTime', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', 'identifier', 'UID of key DICOM object selection', SearchParamTypeURI, [], 'ImagingObjectSelection.uid', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', 'patient', 'Subject of key DICOM object selection', SearchParamTypeREFERENCE, ['Patient'], 'ImagingObjectSelection.patient', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', 'selected-study', 'Study selected in key DICOM object selection', SearchParamTypeURI, [], 'ImagingObjectSelection.study.uid', SearchXpathUsageNormal);
  indexes.add('ImagingObjectSelection', 'title', 'Title of key DICOM object selection', SearchParamTypeTOKEN, [], 'ImagingObjectSelection.title', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'ImagingObjectSelection', ['patient', 'author']);
  compartments.register(frtRelatedPerson, 'ImagingObjectSelection', ['author']);
  compartments.register(frtPractitioner, 'ImagingObjectSelection', ['author']);
  compartments.register(frtDevice, 'ImagingObjectSelection', ['author']);
end;

procedure TFHIRIndexBuilder.buildIndexesForImagingStudy(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ImagingStudy', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'accession', 'The accession identifier for the study', SearchParamTypeTOKEN, [], 'ImagingStudy.accession', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'bodysite', 'The body site studied', SearchParamTypeTOKEN, [], 'ImagingStudy.series.bodySite', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'dicom-class', 'The type of the instance', SearchParamTypeURI, [], 'ImagingStudy.series.instance.sopClass', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'identifier', 'Other identifiers for the Study', SearchParamTypeTOKEN, [], 'ImagingStudy.identifier', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'modality', 'The modality of the series', SearchParamTypeTOKEN, [], 'ImagingStudy.series.modality', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'order', 'The order for the image', SearchParamTypeREFERENCE, ['DiagnosticOrder'], 'ImagingStudy.order', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'patient', 'Who the study is about', SearchParamTypeREFERENCE, ['Patient'], 'ImagingStudy.patient', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'series', 'The identifier of the series of images', SearchParamTypeURI, [], 'ImagingStudy.series.uid', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'started', 'When the study was started', SearchParamTypeDATE, [], 'ImagingStudy.started', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'study', 'The study identifier for the image', SearchParamTypeURI, [], 'ImagingStudy.uid', SearchXpathUsageNormal);
  indexes.add('ImagingStudy', 'uid', 'The instance unique identifier', SearchParamTypeURI, [], 'ImagingStudy.series.instance.uid', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'ImagingStudy', ['patient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForImmunization(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Immunization', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Immunization', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Immunization', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Immunization', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Immunization', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Immunization', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Immunization', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Immunization', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Immunization', 'date', 'Vaccination  (non)-Administration Date', SearchParamTypeDATE, [], 'Immunization.date', SearchXpathUsageNormal);
  indexes.add('Immunization', 'dose-sequence', 'Dose number within series', SearchParamTypeNUMBER, [], 'Immunization.vaccinationProtocol.doseSequence', SearchXpathUsageNormal);
  indexes.add('Immunization', 'identifier', 'Business identifier', SearchParamTypeTOKEN, [], 'Immunization.identifier', SearchXpathUsageNormal);
  indexes.add('Immunization', 'location', 'The service delivery location or facility in which the vaccine was / was to be administered', SearchParamTypeREFERENCE, ['Location'], 'Immunization.location', SearchXpathUsageNormal);
  indexes.add('Immunization', 'lot-number', 'Vaccine Lot Number', SearchParamTypeSTRING, [], 'Immunization.lotNumber', SearchXpathUsageNormal);
  indexes.add('Immunization', 'manufacturer', 'Vaccine Manufacturer', SearchParamTypeREFERENCE, ['Organization'], 'Immunization.manufacturer', SearchXpathUsageNormal);
  indexes.add('Immunization', 'notgiven', 'Administrations which were not given', SearchParamTypeTOKEN, [], 'Immunization.wasNotGiven', SearchXpathUsageNormal);
  indexes.add('Immunization', 'patient', 'The patient for the vaccination record', SearchParamTypeREFERENCE, ['Patient'], 'Immunization.patient', SearchXpathUsageNormal);
  indexes.add('Immunization', 'performer', 'The practitioner who administered the vaccination', SearchParamTypeREFERENCE, ['Practitioner'], 'Immunization.performer', SearchXpathUsageNormal);
  indexes.add('Immunization', 'reaction', 'Additional information on reaction', SearchParamTypeREFERENCE, ['Observation'], 'Immunization.reaction.detail', SearchXpathUsageNormal);
  indexes.add('Immunization', 'reaction-date', 'When reaction started', SearchParamTypeDATE, [], 'Immunization.reaction.date', SearchXpathUsageNormal);
  indexes.add('Immunization', 'reason', 'Why immunization occurred', SearchParamTypeTOKEN, [], 'Immunization.explanation.reason', SearchXpathUsageNormal);
  indexes.add('Immunization', 'reason-not-given', 'Explanation of reason vaccination was not administered', SearchParamTypeTOKEN, [], 'Immunization.explanation.reasonNotGiven', SearchXpathUsageNormal);
  indexes.add('Immunization', 'requester', 'The practitioner who ordered the vaccination', SearchParamTypeREFERENCE, ['Practitioner'], 'Immunization.requester', SearchXpathUsageNormal);
  indexes.add('Immunization', 'status', 'Immunization event status', SearchParamTypeTOKEN, [], 'Immunization.status', SearchXpathUsageNormal);
  indexes.add('Immunization', 'vaccine-code', 'Vaccine Product Administered', SearchParamTypeTOKEN, [], 'Immunization.vaccineCode', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Immunization', ['patient']);
  compartments.register(frtPractitioner, 'Immunization', ['performer', 'requester']);
end;

procedure TFHIRIndexBuilder.buildIndexesForImmunizationRecommendation(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ImmunizationRecommendation', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', 'date', 'Date recommendation created', SearchParamTypeDATE, [], 'ImmunizationRecommendation.recommendation.date', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', 'dose-number', 'Recommended dose number', SearchParamTypeNUMBER, [], 'ImmunizationRecommendation.recommendation.doseNumber', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', 'dose-sequence', 'Dose number within sequence', SearchParamTypeNUMBER, [], 'ImmunizationRecommendation.recommendation.protocol.doseSequence', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', 'identifier', 'Business identifier', SearchParamTypeTOKEN, [], 'ImmunizationRecommendation.identifier', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', 'information', 'Patient observations supporting recommendation', SearchParamTypeREFERENCE, ['Observation', 'AllergyIntolerance'], 'ImmunizationRecommendation.recommendation.supportingPatientInformation', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', 'patient', 'Who this profile is for', SearchParamTypeREFERENCE, ['Patient'], 'ImmunizationRecommendation.patient', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', 'status', 'Vaccine administration status', SearchParamTypeTOKEN, [], 'ImmunizationRecommendation.recommendation.forecastStatus', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', 'support', 'Past immunizations supporting recommendation', SearchParamTypeREFERENCE, ['Immunization'], 'ImmunizationRecommendation.recommendation.supportingImmunization', SearchXpathUsageNormal);
  indexes.add('ImmunizationRecommendation', 'vaccine-type', 'Vaccine recommendation applies to', SearchParamTypeTOKEN, [], 'ImmunizationRecommendation.recommendation.vaccineCode', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'ImmunizationRecommendation', ['patient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForImplementationGuide(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ImplementationGuide', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'context', 'A use context assigned to the structure', SearchParamTypeTOKEN, [], 'ImplementationGuide.useContext', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'date', 'The implementation guide publication date', SearchParamTypeDATE, [], 'ImplementationGuide.date', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'dependency', 'Where to find dependency', SearchParamTypeURI, [], 'ImplementationGuide.dependency.uri', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'description', 'Text search in the description of the implementation guide', SearchParamTypeSTRING, [], 'ImplementationGuide.description', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'experimental', 'If for testing purposes, not real usage', SearchParamTypeTOKEN, [], 'ImplementationGuide.experimental', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'name', 'Name of the implementation guide', SearchParamTypeSTRING, [], 'ImplementationGuide.name', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'publisher', 'Name of the publisher of the implementation guide', SearchParamTypeSTRING, [], 'ImplementationGuide.publisher', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'resource', 'Location of the resource', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'ImplementationGuide.package.resource.source', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'status', 'The current status of the implementation guide', SearchParamTypeTOKEN, [], 'ImplementationGuide.status', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'url', 'Absolute URL used to reference this Implementation Guide', SearchParamTypeURI, [], 'ImplementationGuide.url', SearchXpathUsageNormal);
  indexes.add('ImplementationGuide', 'version', 'The version identifier of the implementation guide', SearchParamTypeTOKEN, [], 'ImplementationGuide.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForLibrary(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Library', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Library', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Library', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Library', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Library', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Library', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Library', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Library', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Library', 'description', 'Text search against the description', SearchParamTypeSTRING, [], 'Library.moduleMetadata.description', SearchXpathUsageNormal);
  indexes.add('Library', 'identifier', 'Logical identifier for the module (e.g. CMS-143)', SearchParamTypeTOKEN, [], 'Library.moduleMetadata.identifier', SearchXpathUsageNormal);
  indexes.add('Library', 'status', 'Status of the module', SearchParamTypeTOKEN, [], 'Library.moduleMetadata.status', SearchXpathUsageNormal);
  indexes.add('Library', 'title', 'Text search against the title', SearchParamTypeSTRING, [], 'Library.moduleMetadata.title', SearchXpathUsageNormal);
  indexes.add('Library', 'topic', 'Topics associated with the module', SearchParamTypeTOKEN, [], 'Library.moduleMetadata.topic', SearchXpathUsageNormal);
  indexes.add('Library', 'version', 'Version of the module (e.g. 1.0.0)', SearchParamTypeSTRING, [], 'Library.moduleMetadata.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForLinkage(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Linkage', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Linkage', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Linkage', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Linkage', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Linkage', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Linkage', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Linkage', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Linkage', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Linkage', 'author', 'Author of the Linkage', SearchParamTypeREFERENCE, ['Organization', 'Practitioner'], 'Linkage.author', SearchXpathUsageNormal);
  indexes.add('Linkage', 'item', 'Matches on any item in the Linkage', SearchParamTypeREFERENCE, [], 'Linkage.item.resource', SearchXpathUsageNormal);
  indexes.add('Linkage', 'source', 'Matches on any item in the Linkage with a type of ''source''', SearchParamTypeREFERENCE, [], 'Linkage.item.resource', SearchXpathUsageNormal);
  compartments.register(frtPractitioner, 'Linkage', ['author']);
end;

procedure TFHIRIndexBuilder.buildIndexesForList(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('List', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('List', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('List', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('List', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('List', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('List', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('List', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('List', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('List', 'code', 'What the purpose of this list is', SearchParamTypeTOKEN, [], 'List.code', SearchXpathUsageNormal);
  indexes.add('List', 'date', 'When the list was prepared', SearchParamTypeDATE, [], 'List.date', SearchXpathUsageNormal);
  indexes.add('List', 'empty-reason', 'Why list is empty', SearchParamTypeTOKEN, [], 'List.emptyReason', SearchXpathUsageNormal);
  indexes.add('List', 'encounter', 'Context in which list created', SearchParamTypeREFERENCE, ['Encounter'], 'List.encounter', SearchXpathUsageNormal);
  indexes.add('List', 'identifier', 'Business identifier', SearchParamTypeTOKEN, [], 'List.identifier', SearchXpathUsageNormal);
  indexes.add('List', 'item', 'Actual entry', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'List.entry.item', SearchXpathUsageNormal);
  indexes.add('List', 'notes', 'The annotation  - text content', SearchParamTypeSTRING, [], 'List.note.text', SearchXpathUsageNormal);
  indexes.add('List', 'patient', 'If all resources have the same subject', SearchParamTypeREFERENCE, ['Patient'], 'List.subject', SearchXpathUsageNormal);
  indexes.add('List', 'source', 'Who and/or what defined the list contents (aka Author)', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Practitioner'], 'List.source', SearchXpathUsageNormal);
  indexes.add('List', 'status', 'current | retired | entered-in-error', SearchParamTypeTOKEN, [], 'List.status', SearchXpathUsageNormal);
  indexes.add('List', 'subject', 'If all resources have the same subject', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Location', 'Group'], 'List.subject', SearchXpathUsageNormal);
  indexes.add('List', 'title', 'Descriptive name for the list', SearchParamTypeSTRING, [], 'List.title', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'List', ['subject', 'source']);
  compartments.register(frtPractitioner, 'List', ['source']);
  compartments.register(frtDevice, 'List', ['subject', 'source']);
end;

procedure TFHIRIndexBuilder.buildIndexesForLocation(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Location', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Location', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Location', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Location', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Location', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Location', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Location', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Location', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Location', 'address', 'A (part of the) address of the location', SearchParamTypeSTRING, [], 'Location.address', SearchXpathUsageNormal);
  indexes.add('Location', 'address-city', 'A city specified in an address', SearchParamTypeSTRING, [], 'Location.address.city', SearchXpathUsageNormal);
  indexes.add('Location', 'address-country', 'A country specified in an address', SearchParamTypeSTRING, [], 'Location.address.country', SearchXpathUsageNormal);
  indexes.add('Location', 'address-postalcode', 'A postal code specified in an address', SearchParamTypeSTRING, [], 'Location.address.postalCode', SearchXpathUsageNormal);
  indexes.add('Location', 'address-state', 'A state specified in an address', SearchParamTypeSTRING, [], 'Location.address.state', SearchXpathUsageNormal);
  indexes.add('Location', 'address-use', 'A use code specified in an address', SearchParamTypeTOKEN, [], 'Location.address.use', SearchXpathUsageNormal);
  indexes.add('Location', 'identifier', 'Unique code or number identifying the location to its users', SearchParamTypeTOKEN, [], 'Location.identifier', SearchXpathUsageNormal);
  indexes.add('Location', 'name', 'A (portion of the) name of the location', SearchParamTypeSTRING, [], 'Location.name', SearchXpathUsageNormal);
  indexes.add('Location', 'near', 'The coordinates expressed as [lat],[long] (using the WGS84 datum, see notes) to find locations near to (servers may search using a square rather than a circle for efficiency)', SearchParamTypeTOKEN, [], 'Location.position', SearchXpathUsageNearby);
  indexes.add('Location', 'near-distance', 'A distance quantity to limit the near search to locations within a specific distance', SearchParamTypeTOKEN, [], 'Location.position', SearchXpathUsageDistance);
  indexes.add('Location', 'organization', 'Searches for locations that are managed by the provided organization', SearchParamTypeREFERENCE, ['Organization'], 'Location.managingOrganization', SearchXpathUsageNormal);
  indexes.add('Location', 'partof', 'The location of which this location is a part', SearchParamTypeREFERENCE, ['Location'], 'Location.partOf', SearchXpathUsageNormal);
  indexes.add('Location', 'status', 'Searches for locations with a specific kind of status', SearchParamTypeTOKEN, [], 'Location.status', SearchXpathUsageNormal);
  indexes.add('Location', 'type', 'A code for the type of location', SearchParamTypeTOKEN, [], 'Location.type', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForMeasure(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Measure', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Measure', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Measure', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Measure', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Measure', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Measure', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Measure', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Measure', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Measure', 'description', 'Text search against the description', SearchParamTypeSTRING, [], 'Measure.moduleMetadata.description', SearchXpathUsageNormal);
  indexes.add('Measure', 'identifier', 'Logical identifier for the module (e.g. CMS-143)', SearchParamTypeTOKEN, [], 'Measure.moduleMetadata.identifier', SearchXpathUsageNormal);
  indexes.add('Measure', 'status', 'Status of the module', SearchParamTypeTOKEN, [], 'Measure.moduleMetadata.status', SearchXpathUsageNormal);
  indexes.add('Measure', 'title', 'Text search against the title', SearchParamTypeSTRING, [], 'Measure.moduleMetadata.title', SearchXpathUsageNormal);
  indexes.add('Measure', 'topic', 'Topics associated with the module', SearchParamTypeTOKEN, [], 'Measure.moduleMetadata.topic', SearchXpathUsageNormal);
  indexes.add('Measure', 'version', 'Version of the module (e.g. 1.0.0)', SearchParamTypeSTRING, [], 'Measure.moduleMetadata.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForMeasureReport(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('MeasureReport', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MeasureReport', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('MeasureReport', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('MeasureReport', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('MeasureReport', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('MeasureReport', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('MeasureReport', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('MeasureReport', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MeasureReport', 'patient', 'The identity of a patient to search for individual measure report results for', SearchParamTypeREFERENCE, ['Patient'], 'MeasureReport.patient', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'MeasureReport', ['patient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForMedia(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Media', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Media', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Media', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Media', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Media', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Media', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Media', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Media', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Media', 'created', 'Date attachment was first created', SearchParamTypeDATE, [], 'Media.content.creation', SearchXpathUsageNormal);
  indexes.add('Media', 'identifier', 'Identifier(s) for the image', SearchParamTypeTOKEN, [], 'Media.identifier', SearchXpathUsageNormal);
  indexes.add('Media', 'operator', 'The person who generated the image', SearchParamTypeREFERENCE, ['Practitioner'], 'Media.operator', SearchXpathUsageNormal);
  indexes.add('Media', 'patient', 'Who/What this Media is a record of', SearchParamTypeREFERENCE, ['Patient'], 'Media.subject', SearchXpathUsageNormal);
  indexes.add('Media', 'subject', 'Who/What this Media is a record of', SearchParamTypeREFERENCE, ['Specimen', 'Device', 'Patient', 'Practitioner', 'Group'], 'Media.subject', SearchXpathUsageNormal);
  indexes.add('Media', 'subtype', 'The type of acquisition equipment/process', SearchParamTypeTOKEN, [], 'Media.subtype', SearchXpathUsageNormal);
  indexes.add('Media', 'type', 'photo | video | audio', SearchParamTypeTOKEN, [], 'Media.type', SearchXpathUsageNormal);
  indexes.add('Media', 'view', 'Imaging view, e.g. Lateral or Antero-posterior', SearchParamTypeTOKEN, [], 'Media.view', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Media', ['subject']);
  compartments.register(frtPractitioner, 'Media', ['subject', 'operator']);
  compartments.register(frtDevice, 'Media', ['subject']);
end;

procedure TFHIRIndexBuilder.buildIndexesForMedication(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Medication', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Medication', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Medication', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Medication', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Medication', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Medication', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Medication', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Medication', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Medication', 'code', 'Codes that identify this medication', SearchParamTypeTOKEN, [], 'Medication.code', SearchXpathUsageNormal);
  indexes.add('Medication', 'container', 'E.g. box, vial, blister-pack', SearchParamTypeTOKEN, [], 'Medication.package.container', SearchXpathUsageNormal);
  indexes.add('Medication', 'form', 'powder | tablets | carton +', SearchParamTypeTOKEN, [], 'Medication.product.form', SearchXpathUsageNormal);
  indexes.add('Medication', 'ingredient', 'The product contained', SearchParamTypeREFERENCE, ['Medication', 'Substance'], 'Medication.product.ingredient.item.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Medication', 'ingredient-code', 'The product contained', SearchParamTypeTOKEN, [], 'Medication.product.ingredient.item.as(CodeableConcept)', SearchXpathUsageNormal);
  indexes.add('Medication', 'manufacturer', 'Manufacturer of the item', SearchParamTypeREFERENCE, ['Organization'], 'Medication.manufacturer', SearchXpathUsageNormal);
  indexes.add('Medication', 'package-item', 'The item in the package', SearchParamTypeREFERENCE, ['Medication'], 'Medication.package.content.item.as(Reference)', SearchXpathUsageNormal);
  indexes.add('Medication', 'package-item-code', 'The item in the package', SearchParamTypeTOKEN, [], 'Medication.package.content.item.as(CodeableConcept)', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForMedicationAdministration(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('MedicationAdministration', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'code', 'Return administrations of this medication code', SearchParamTypeTOKEN, [], 'MedicationAdministration.medication.as(CodeableConcept)', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'device', 'Return administrations with this administration device identity', SearchParamTypeREFERENCE, ['Device'], 'MedicationAdministration.device', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'effectivetime', 'Date administration happened (or did not happen)', SearchParamTypeDATE, [], 'MedicationAdministration.effectiveTime', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'encounter', 'Return administrations that share this encounter', SearchParamTypeREFERENCE, ['Encounter'], 'MedicationAdministration.encounter', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'identifier', 'Return administrations with this external identifier', SearchParamTypeTOKEN, [], 'MedicationAdministration.identifier', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'medication', 'Return administrations of this medication resource', SearchParamTypeREFERENCE, ['Medication'], 'MedicationAdministration.medication.as(Reference)', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'patient', 'The identity of a patient to list administrations  for', SearchParamTypeREFERENCE, ['Patient'], 'MedicationAdministration.patient', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'practitioner', 'Who administered substance', SearchParamTypeREFERENCE, ['Patient', 'Practitioner', 'RelatedPerson'], 'MedicationAdministration.practitioner', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'prescription', 'The identity of a prescription to list administrations from', SearchParamTypeREFERENCE, ['MedicationOrder'], 'MedicationAdministration.prescription', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'status', 'MedicationAdministration event status (for example one of active/paused/completed/nullified)', SearchParamTypeTOKEN, [], 'MedicationAdministration.status', SearchXpathUsageNormal);
  indexes.add('MedicationAdministration', 'wasnotgiven', 'Administrations that were not made', SearchParamTypeTOKEN, [], 'MedicationAdministration.wasNotGiven', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'MedicationAdministration', ['patient']);
  compartments.register(frtEncounter, 'MedicationAdministration', ['encounter']);
  compartments.register(frtPractitioner, 'MedicationAdministration', ['practitioner']);
  compartments.register(frtDevice, 'MedicationAdministration', ['device']);
end;

procedure TFHIRIndexBuilder.buildIndexesForMedicationDispense(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('MedicationDispense', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'code', 'Return dispenses of this medicine code', SearchParamTypeTOKEN, [], 'MedicationDispense.medication.as(CodeableConcept)', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'destination', 'Return dispenses that should be sent to a specific destination', SearchParamTypeREFERENCE, ['Location'], 'MedicationDispense.destination', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'dispenser', 'Return all dispenses performed by a specific individual', SearchParamTypeREFERENCE, ['Practitioner'], 'MedicationDispense.dispenser', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'identifier', 'Return dispenses with this external identifier', SearchParamTypeTOKEN, [], 'MedicationDispense.identifier', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'medication', 'Return dispenses of this medicine resource', SearchParamTypeREFERENCE, ['Medication'], 'MedicationDispense.medication.as(Reference)', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'patient', 'The identity of a patient to list dispenses  for', SearchParamTypeREFERENCE, ['Patient'], 'MedicationDispense.patient', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'prescription', 'The identity of a prescription to list dispenses from', SearchParamTypeREFERENCE, ['MedicationOrder'], 'MedicationDispense.authorizingPrescription', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'receiver', 'Who collected the medication', SearchParamTypeREFERENCE, ['Patient', 'Practitioner'], 'MedicationDispense.receiver', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'responsibleparty', 'Return all dispenses with the specified responsible party', SearchParamTypeREFERENCE, ['Practitioner'], 'MedicationDispense.substitution.responsibleParty', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'status', 'Status of the dispense', SearchParamTypeTOKEN, [], 'MedicationDispense.status', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'type', 'Return all dispenses of a specific type', SearchParamTypeTOKEN, [], 'MedicationDispense.type', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'whenhandedover', 'Date when medication handed over to patient (outpatient setting), or supplied to ward or clinic (inpatient setting)', SearchParamTypeDATE, [], 'MedicationDispense.whenHandedOver', SearchXpathUsageNormal);
  indexes.add('MedicationDispense', 'whenprepared', 'Date when medication prepared', SearchParamTypeDATE, [], 'MedicationDispense.whenPrepared', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'MedicationDispense', ['patient']);
  compartments.register(frtPractitioner, 'MedicationDispense', ['dispenser', 'receiver', 'responsibleparty']);
end;

procedure TFHIRIndexBuilder.buildIndexesForMedicationOrder(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('MedicationOrder', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', 'code', 'Return administrations of this medication code', SearchParamTypeTOKEN, [], 'MedicationOrder.medication.as(CodeableConcept)', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', 'datewritten', 'Return prescriptions written on this date', SearchParamTypeDATE, [], 'MedicationOrder.dateWritten', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', 'encounter', 'Return prescriptions with this encounter identifier', SearchParamTypeREFERENCE, ['Encounter'], 'MedicationOrder.encounter', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', 'identifier', 'Return prescriptions with this external identifier', SearchParamTypeTOKEN, [], 'MedicationOrder.identifier', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', 'medication', 'Return administrations of this medication reference', SearchParamTypeREFERENCE, ['Medication'], 'MedicationOrder.medication.as(Reference)', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', 'patient', 'The identity of a patient to list orders  for', SearchParamTypeREFERENCE, ['Patient'], 'MedicationOrder.patient', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', 'prescriber', 'Who ordered the medication(s)', SearchParamTypeREFERENCE, ['Practitioner'], 'MedicationOrder.prescriber', SearchXpathUsageNormal);
  indexes.add('MedicationOrder', 'status', 'Status of the prescription', SearchParamTypeTOKEN, [], 'MedicationOrder.status', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'MedicationOrder', ['patient']);
  compartments.register(frtEncounter, 'MedicationOrder', ['encounter']);
  compartments.register(frtPractitioner, 'MedicationOrder', ['prescriber']);
end;

procedure TFHIRIndexBuilder.buildIndexesForMedicationStatement(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('MedicationStatement', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', 'code', 'Return administrations of this medication code', SearchParamTypeTOKEN, [], 'MedicationStatement.medication.as(CodeableConcept)', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', 'effective', 'Date when patient was taking (or not taking) the medication', SearchParamTypeDATE, [], 'MedicationStatement.effective', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', 'identifier', 'Return statements with this external identifier', SearchParamTypeTOKEN, [], 'MedicationStatement.identifier', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', 'medication', 'Return administrations of this medication reference', SearchParamTypeREFERENCE, ['Medication'], 'MedicationStatement.medication.as(Reference)', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', 'patient', 'The identity of a patient to list statements  for', SearchParamTypeREFERENCE, ['Patient'], 'MedicationStatement.patient', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', 'source', 'Who the information in the statement came from', SearchParamTypeREFERENCE, ['Patient', 'Practitioner', 'RelatedPerson'], 'MedicationStatement.informationSource', SearchXpathUsageNormal);
  indexes.add('MedicationStatement', 'status', 'Return statements that match the given status', SearchParamTypeTOKEN, [], 'MedicationStatement.status', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'MedicationStatement', ['patient', 'source']);
  compartments.register(frtRelatedPerson, 'MedicationStatement', ['source']);
  compartments.register(frtPractitioner, 'MedicationStatement', ['source']);
end;

procedure TFHIRIndexBuilder.buildIndexesForMessageHeader(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('MessageHeader', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MessageHeader', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('MessageHeader', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('MessageHeader', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('MessageHeader', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('MessageHeader', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('MessageHeader', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('MessageHeader', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'author', 'The source of the decision', SearchParamTypeREFERENCE, ['Practitioner'], 'MessageHeader.author', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'code', 'ok | transient-error | fatal-error', SearchParamTypeTOKEN, [], 'MessageHeader.response.code', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'data', 'The actual content of the message', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'MessageHeader.data', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'destination', 'Name of system', SearchParamTypeSTRING, [], 'MessageHeader.destination.name', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'destination-uri', 'Actual destination address or id', SearchParamTypeURI, [], 'MessageHeader.destination.endpoint', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'enterer', 'The source of the data entry', SearchParamTypeREFERENCE, ['Practitioner'], 'MessageHeader.enterer', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'event', 'Code for the event this message represents', SearchParamTypeTOKEN, [], 'MessageHeader.event', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'receiver', 'Intended "real-world" recipient for the data', SearchParamTypeREFERENCE, ['Organization', 'Practitioner'], 'MessageHeader.receiver', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'response-id', 'Id of original message', SearchParamTypeTOKEN, [], 'MessageHeader.response.identifier', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'responsible', 'Final responsibility for event', SearchParamTypeREFERENCE, ['Organization', 'Practitioner'], 'MessageHeader.responsible', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'source', 'Name of system', SearchParamTypeSTRING, [], 'MessageHeader.source.name', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'source-uri', 'Actual message source address or id', SearchParamTypeURI, [], 'MessageHeader.source.endpoint', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'target', 'Particular delivery destination within the destination', SearchParamTypeREFERENCE, ['Device'], 'MessageHeader.destination.target', SearchXpathUsageNormal);
  indexes.add('MessageHeader', 'timestamp', 'Time that the message was sent', SearchParamTypeDATE, [], 'MessageHeader.timestamp', SearchXpathUsageNormal);
  compartments.register(frtPractitioner, 'MessageHeader', ['receiver', 'author', 'responsible', 'enterer']);
  compartments.register(frtDevice, 'MessageHeader', ['target']);
end;

procedure TFHIRIndexBuilder.buildIndexesForModuleDefinition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ModuleDefinition', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ModuleDefinition', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ModuleDefinition', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ModuleDefinition', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ModuleDefinition', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ModuleDefinition', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ModuleDefinition', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ModuleDefinition', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForNamingSystem(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('NamingSystem', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('NamingSystem', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('NamingSystem', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('NamingSystem', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('NamingSystem', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('NamingSystem', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('NamingSystem', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('NamingSystem', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'contact', 'Name of an individual to contact', SearchParamTypeSTRING, [], 'NamingSystem.contact.name', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'context', 'Content intends to support these contexts', SearchParamTypeTOKEN, [], 'NamingSystem.useContext', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'date', 'Publication Date(/time)', SearchParamTypeDATE, [], 'NamingSystem.date', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'id-type', 'oid | uuid | uri | other', SearchParamTypeTOKEN, [], 'NamingSystem.uniqueId.type', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'kind', 'codesystem | identifier | root', SearchParamTypeTOKEN, [], 'NamingSystem.kind', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'name', 'Human-readable label', SearchParamTypeSTRING, [], 'NamingSystem.name', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'period', 'When is identifier valid?', SearchParamTypeDATE, [], 'NamingSystem.uniqueId.period', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'publisher', 'Name of the publisher (Organization or individual)', SearchParamTypeSTRING, [], 'NamingSystem.publisher', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'replaced-by', 'Use this instead', SearchParamTypeREFERENCE, ['NamingSystem'], 'NamingSystem.replacedBy', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'responsible', 'Who maintains system namespace?', SearchParamTypeSTRING, [], 'NamingSystem.responsible', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'status', 'draft | active | retired', SearchParamTypeTOKEN, [], 'NamingSystem.status', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'telecom', 'Contact details for individual or publisher', SearchParamTypeTOKEN, [], 'NamingSystem.contact.telecom', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'type', 'e.g. driver,  provider,  patient, bank etc.', SearchParamTypeTOKEN, [], 'NamingSystem.type', SearchXpathUsageNormal);
  indexes.add('NamingSystem', 'value', 'The unique identifier', SearchParamTypeSTRING, [], 'NamingSystem.uniqueId.value', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForNutritionOrder(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('NutritionOrder', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'additive', 'Type of module component to add to the feeding', SearchParamTypeTOKEN, [], 'NutritionOrder.enteralFormula.additiveType', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'datetime', 'Return nutrition orders requested on this date', SearchParamTypeDATE, [], 'NutritionOrder.dateTime', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'encounter', 'Return nutrition orders with this encounter identifier', SearchParamTypeREFERENCE, ['Encounter'], 'NutritionOrder.encounter', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'formula', 'Type of enteral or infant formula', SearchParamTypeTOKEN, [], 'NutritionOrder.enteralFormula.baseFormulaType', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'identifier', 'Return nutrition orders with this external identifier', SearchParamTypeTOKEN, [], 'NutritionOrder.identifier', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'oraldiet', 'Type of diet that can be consumed orally (i.e., take via the mouth).', SearchParamTypeTOKEN, [], 'NutritionOrder.oralDiet.type', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'patient', 'The identity of the person who requires the diet, formula or nutritional supplement', SearchParamTypeREFERENCE, ['Patient'], 'NutritionOrder.patient', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'provider', 'The identify of the provider who placed the nutrition order', SearchParamTypeREFERENCE, ['Practitioner'], 'NutritionOrder.orderer', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'status', 'Status of the nutrition order.', SearchParamTypeTOKEN, [], 'NutritionOrder.status', SearchXpathUsageNormal);
  indexes.add('NutritionOrder', 'supplement', 'Type of supplement product requested', SearchParamTypeTOKEN, [], 'NutritionOrder.supplement.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'NutritionOrder', ['patient']);
  compartments.register(frtEncounter, 'NutritionOrder', ['encounter']);
  compartments.register(frtPractitioner, 'NutritionOrder', ['provider']);
end;

procedure TFHIRIndexBuilder.buildIndexesForObservation(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Observation', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Observation', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Observation', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Observation', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Observation', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Observation', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Observation', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Observation', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Observation', 'category', 'The classification of the type of observation', SearchParamTypeTOKEN, [], 'Observation.category', SearchXpathUsageNormal);
  indexes.add('Observation', 'code', 'The code of the observation type', SearchParamTypeTOKEN, [], 'Observation.code', SearchXpathUsageNormal);
  indexes.add('Observation', 'code-value-[x]', 'Both code and one of the value parameters', SearchParamTypeCOMPOSITE, [], '', SearchXpathUsageNormal);
  indexes.add('Observation', 'component-code', 'The component code of the observation type', SearchParamTypeTOKEN, [], 'Observation.component.code', SearchXpathUsageNormal);
  indexes.add('Observation', 'component-code-value-[x]', 'Both component code and one of the component value parameters', SearchParamTypeCOMPOSITE, [], '', SearchXpathUsageNormal);
  indexes.add('Observation', 'component-data-absent-reason', 'The reason why the expected value in the element Observation.component.value[x] is missing.', SearchParamTypeTOKEN, [], 'Observation.component.dataAbsentReason', SearchXpathUsageNormal);
  indexes.add('Observation', 'component-value-concept', 'The value of the component observation, if the value is a CodeableConcept', SearchParamTypeTOKEN, [], 'Observation.component.value.as(CodeableConcept)', SearchXpathUsageNormal);
  indexes.add('Observation', 'component-value-quantity', 'The value of the component observation, if the value is a Quantity, or a SampledData (just search on the bounds of the values in sampled data)', SearchParamTypeQUANTITY, [], 'Observation.component.value.as(Quantity)', SearchXpathUsageNormal);
  indexes.add('Observation', 'component-value-string', 'The value of the component observation, if the value is a string, and also searches in CodeableConcept.text', SearchParamTypeSTRING, [], 'Observation.component.value.as(String)', SearchXpathUsageNormal);
  indexes.add('Observation', 'data-absent-reason', 'The reason why the expected value in the element Observation.value[x] is missing.', SearchParamTypeTOKEN, [], 'Observation.dataAbsentReason', SearchXpathUsageNormal);
  indexes.add('Observation', 'date', 'Obtained date/time. If the obtained element is a period, a date that falls in the period', SearchParamTypeDATE, [], 'Observation.effective', SearchXpathUsageNormal);
  indexes.add('Observation', 'device', 'The Device that generated the observation data.', SearchParamTypeREFERENCE, ['Device', 'DeviceMetric'], 'Observation.device', SearchXpathUsageNormal);
  indexes.add('Observation', 'encounter', 'Healthcare event related to the observation', SearchParamTypeREFERENCE, ['Encounter'], 'Observation.encounter', SearchXpathUsageNormal);
  indexes.add('Observation', 'identifier', 'The unique id for a particular observation', SearchParamTypeTOKEN, [], 'Observation.identifier', SearchXpathUsageNormal);
  indexes.add('Observation', 'patient', 'The subject that the observation is about (if patient)', SearchParamTypeREFERENCE, ['Patient'], 'Observation.subject', SearchXpathUsageNormal);
  indexes.add('Observation', 'performer', 'Who performed the observation', SearchParamTypeREFERENCE, ['Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'Observation.performer', SearchXpathUsageNormal);
  indexes.add('Observation', 'related', 'Related Observations - search on related-type and related-target together', SearchParamTypeCOMPOSITE, [], '', SearchXpathUsageNormal);
  indexes.add('Observation', 'related-target', 'Resource that is related to this one', SearchParamTypeREFERENCE, ['Observation', 'QuestionnaireResponse'], 'Observation.related.target', SearchXpathUsageNormal);
  indexes.add('Observation', 'related-type', 'has-member | derived-from | sequel-to | replaces | qualified-by | interfered-by', SearchParamTypeTOKEN, [], 'Observation.related.type', SearchXpathUsageNormal);
  indexes.add('Observation', 'specimen', 'Specimen used for this observation', SearchParamTypeREFERENCE, ['Specimen'], 'Observation.specimen', SearchXpathUsageNormal);
  indexes.add('Observation', 'status', 'The status of the observation', SearchParamTypeTOKEN, [], 'Observation.status', SearchXpathUsageNormal);
  indexes.add('Observation', 'subject', 'The subject that the observation is about', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Location', 'Group'], 'Observation.subject', SearchXpathUsageNormal);
  indexes.add('Observation', 'value-concept', 'The value of the observation, if the value is a CodeableConcept', SearchParamTypeTOKEN, [], 'Observation.value.as(CodeableConcept)', SearchXpathUsageNormal);
  indexes.add('Observation', 'value-date', 'The value of the observation, if the value is a date or period of time', SearchParamTypeDATE, [], 'Observation.value.as(DateTime) | Observation.value.as(Period)', SearchXpathUsageNormal);
  indexes.add('Observation', 'value-quantity', 'The value of the observation, if the value is a Quantity, or a SampledData (just search on the bounds of the values in sampled data)', SearchParamTypeQUANTITY, [], 'Observation.value.as(Quantity)', SearchXpathUsageNormal);
  indexes.add('Observation', 'value-string', 'The value of the observation, if the value is a string, and also searches in CodeableConcept.text', SearchParamTypeSTRING, [], 'Observation.value.as(String)', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Observation', ['subject', 'performer']);
  compartments.register(frtEncounter, 'Observation', ['encounter']);
  compartments.register(frtRelatedPerson, 'Observation', ['performer']);
  compartments.register(frtPractitioner, 'Observation', ['performer']);
  compartments.register(frtDevice, 'Observation', ['subject', 'device']);
end;

procedure TFHIRIndexBuilder.buildIndexesForOperationDefinition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('OperationDefinition', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'base', 'Marks this as a profile of the base', SearchParamTypeREFERENCE, ['OperationDefinition'], 'OperationDefinition.base', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'code', 'Name used to invoke the operation', SearchParamTypeTOKEN, [], 'OperationDefinition.code', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'context', 'A use context assigned to the operation definition', SearchParamTypeTOKEN, [], 'OperationDefinition.useContext', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'date', 'Date for this version of the operation definition', SearchParamTypeDATE, [], 'OperationDefinition.date', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'instance', 'Invoke on an instance?', SearchParamTypeTOKEN, [], 'OperationDefinition.instance', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'kind', 'operation | query', SearchParamTypeTOKEN, [], 'OperationDefinition.kind', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'name', 'Informal name for this operation', SearchParamTypeSTRING, [], 'OperationDefinition.name', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'paramprofile', 'Profile on the type', SearchParamTypeREFERENCE, ['StructureDefinition'], 'OperationDefinition.parameter.profile', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'publisher', 'Name of the publisher (Organization or individual)', SearchParamTypeSTRING, [], 'OperationDefinition.publisher', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'status', 'draft | active | retired', SearchParamTypeTOKEN, [], 'OperationDefinition.status', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'system', 'Invoke at the system level?', SearchParamTypeTOKEN, [], 'OperationDefinition.system', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'type', 'Invoke at resource level for these type', SearchParamTypeTOKEN, [], 'OperationDefinition.type', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'url', 'Logical URL to reference this operation definition', SearchParamTypeURI, [], 'OperationDefinition.url', SearchXpathUsageNormal);
  indexes.add('OperationDefinition', 'version', 'Logical id for this version of the operation definition', SearchParamTypeTOKEN, [], 'OperationDefinition.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForOperationOutcome(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('OperationOutcome', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('OperationOutcome', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('OperationOutcome', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('OperationOutcome', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('OperationOutcome', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('OperationOutcome', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('OperationOutcome', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('OperationOutcome', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForOrder(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Order', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Order', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Order', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Order', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Order', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Order', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Order', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Order', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Order', 'date', 'When the order was made', SearchParamTypeDATE, [], 'Order.date', SearchXpathUsageNormal);
  indexes.add('Order', 'detail', 'What action is being ordered', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'Order.detail', SearchXpathUsageNormal);
  indexes.add('Order', 'identifier', 'Instance id from source, target, and/or  others', SearchParamTypeTOKEN, [], 'Order.identifier', SearchXpathUsageNormal);
  indexes.add('Order', 'patient', 'Patient this order is about', SearchParamTypeREFERENCE, ['Patient'], 'Order.subject', SearchXpathUsageNormal);
  indexes.add('Order', 'source', 'Who initiated the order', SearchParamTypeREFERENCE, ['Organization', 'Practitioner'], 'Order.source', SearchXpathUsageNormal);
  indexes.add('Order', 'subject', 'Patient this order is about', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Substance', 'Group'], 'Order.subject', SearchXpathUsageNormal);
  indexes.add('Order', 'target', 'Who is intended to fulfill the order', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Practitioner'], 'Order.target', SearchXpathUsageNormal);
  indexes.add('Order', 'when', 'A formal schedule', SearchParamTypeDATE, [], 'Order.when.schedule', SearchXpathUsageNormal);
  indexes.add('Order', 'when_code', 'Code specifies when request should be done. The code may simply be a priority code', SearchParamTypeTOKEN, [], 'Order.when.code', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Order', ['subject']);
  compartments.register(frtPractitioner, 'Order', ['source', 'target']);
  compartments.register(frtDevice, 'Order', ['target']);
end;

procedure TFHIRIndexBuilder.buildIndexesForOrderResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('OrderResponse', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('OrderResponse', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('OrderResponse', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('OrderResponse', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('OrderResponse', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('OrderResponse', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('OrderResponse', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('OrderResponse', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('OrderResponse', 'code', 'pending | review | rejected | error | accepted | cancelled | replaced | aborted | completed', SearchParamTypeTOKEN, [], 'OrderResponse.orderStatus', SearchXpathUsageNormal);
  indexes.add('OrderResponse', 'date', 'When the response was made', SearchParamTypeDATE, [], 'OrderResponse.date', SearchXpathUsageNormal);
  indexes.add('OrderResponse', 'fulfillment', 'Details of the outcome of performing the order', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'OrderResponse.fulfillment', SearchXpathUsageNormal);
  indexes.add('OrderResponse', 'identifier', 'Identifiers assigned to this order by the orderer or by the receiver', SearchParamTypeTOKEN, [], 'OrderResponse.identifier', SearchXpathUsageNormal);
  indexes.add('OrderResponse', 'request', 'The order that this is a response to', SearchParamTypeREFERENCE, ['Order'], 'OrderResponse.request', SearchXpathUsageNormal);
  indexes.add('OrderResponse', 'who', 'Who made the response', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Practitioner'], 'OrderResponse.who', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'OrderResponse', ['request.patient']);
  compartments.register(frtPractitioner, 'OrderResponse', ['who']);
  compartments.register(frtDevice, 'OrderResponse', ['who']);
end;

procedure TFHIRIndexBuilder.buildIndexesForOrderSet(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('OrderSet', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('OrderSet', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('OrderSet', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('OrderSet', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('OrderSet', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('OrderSet', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('OrderSet', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('OrderSet', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('OrderSet', 'description', 'Text search against the description', SearchParamTypeSTRING, [], 'OrderSet.moduleMetadata.description', SearchXpathUsageNormal);
  indexes.add('OrderSet', 'identifier', 'Logical identifier for the module (e.g. CMS-143)', SearchParamTypeTOKEN, [], 'OrderSet.moduleMetadata.identifier', SearchXpathUsageNormal);
  indexes.add('OrderSet', 'status', 'Status of the module', SearchParamTypeTOKEN, [], 'OrderSet.moduleMetadata.status', SearchXpathUsageNormal);
  indexes.add('OrderSet', 'title', 'Text search against the title', SearchParamTypeSTRING, [], 'OrderSet.moduleMetadata.title', SearchXpathUsageNormal);
  indexes.add('OrderSet', 'topic', 'Topics associated with the module', SearchParamTypeTOKEN, [], 'OrderSet.moduleMetadata.topic', SearchXpathUsageNormal);
  indexes.add('OrderSet', 'version', 'Version of the module (e.g. 1.0.0)', SearchParamTypeSTRING, [], 'OrderSet.moduleMetadata.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForOrganization(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Organization', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Organization', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Organization', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Organization', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Organization', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Organization', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Organization', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Organization', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Organization', 'active', 'Whether the organization''s record is active', SearchParamTypeTOKEN, [], 'Organization.active', SearchXpathUsageNormal);
  indexes.add('Organization', 'address', 'A (part of the) address of the Organization', SearchParamTypeSTRING, [], 'Organization.address', SearchXpathUsageNormal);
  indexes.add('Organization', 'address-city', 'A city specified in an address', SearchParamTypeSTRING, [], 'Organization.address.city', SearchXpathUsageNormal);
  indexes.add('Organization', 'address-country', 'A country specified in an address', SearchParamTypeSTRING, [], 'Organization.address.country', SearchXpathUsageNormal);
  indexes.add('Organization', 'address-postalcode', 'A postal code specified in an address', SearchParamTypeSTRING, [], 'Organization.address.postalCode', SearchXpathUsageNormal);
  indexes.add('Organization', 'address-state', 'A state specified in an address', SearchParamTypeSTRING, [], 'Organization.address.state', SearchXpathUsageNormal);
  indexes.add('Organization', 'address-use', 'A use code specified in an address', SearchParamTypeTOKEN, [], 'Organization.address.use', SearchXpathUsageNormal);
  indexes.add('Organization', 'identifier', 'Any identifier for the organization (not the accreditation issuer''s identifier)', SearchParamTypeTOKEN, [], 'Organization.identifier', SearchXpathUsageNormal);
  indexes.add('Organization', 'name', 'A portion of the organization''s name', SearchParamTypeSTRING, [], 'Organization.name', SearchXpathUsageNormal);
  indexes.add('Organization', 'partof', 'Search all organizations that are part of the given organization', SearchParamTypeREFERENCE, ['Organization'], 'Organization.partOf', SearchXpathUsageNormal);
  indexes.add('Organization', 'phonetic', 'A portion of the organization''s name using some kind of phonetic matching algorithm', SearchParamTypeSTRING, [], 'Organization.name', SearchXpathUsagePhonetic);
  indexes.add('Organization', 'type', 'A code for the type of organization', SearchParamTypeTOKEN, [], 'Organization.type', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForPatient(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Patient', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Patient', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Patient', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Patient', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Patient', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Patient', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Patient', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Patient', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Patient', 'active', 'Whether the patient record is active', SearchParamTypeTOKEN, [], 'Patient.active', SearchXpathUsageNormal);
  indexes.add('Patient', 'address', 'An address in any kind of address/part of the patient', SearchParamTypeSTRING, [], 'Patient.address', SearchXpathUsageNormal);
  indexes.add('Patient', 'address-city', 'A city specified in an address', SearchParamTypeSTRING, [], 'Patient.address.city', SearchXpathUsageNormal);
  indexes.add('Patient', 'address-country', 'A country specified in an address', SearchParamTypeSTRING, [], 'Patient.address.country', SearchXpathUsageNormal);
  indexes.add('Patient', 'address-postalcode', 'A postalCode specified in an address', SearchParamTypeSTRING, [], 'Patient.address.postalCode', SearchXpathUsageNormal);
  indexes.add('Patient', 'address-state', 'A state specified in an address', SearchParamTypeSTRING, [], 'Patient.address.state', SearchXpathUsageNormal);
  indexes.add('Patient', 'address-use', 'A use code specified in an address', SearchParamTypeTOKEN, [], 'Patient.address.use', SearchXpathUsageNormal);
  indexes.add('Patient', 'animal-breed', 'The breed for animal patients', SearchParamTypeTOKEN, [], 'Patient.animal.breed', SearchXpathUsageNormal);
  indexes.add('Patient', 'animal-species', 'The species for animal patients', SearchParamTypeTOKEN, [], 'Patient.animal.species', SearchXpathUsageNormal);
  indexes.add('Patient', 'birthdate', 'The patient''s date of birth', SearchParamTypeDATE, [], 'Patient.birthDate', SearchXpathUsageNormal);
  indexes.add('Patient', 'careprovider', 'Patient''s nominated care provider, could be a care manager, not the organization that manages the record', SearchParamTypeREFERENCE, ['Organization', 'Practitioner'], 'Patient.careProvider', SearchXpathUsageNormal);
  indexes.add('Patient', 'death-date', 'The date of death has been provided and satisfies this search value', SearchParamTypeDATE, [], 'Patient.deceased.as(DateTime)', SearchXpathUsageNormal);
  indexes.add('Patient', 'deceased', 'This patient has been marked as deceased, or as a death date entered', SearchParamTypeTOKEN, [], 'Patient.deceased.exists()', SearchXpathUsageNormal);
  indexes.add('Patient', 'email', 'A value in an email contact', SearchParamTypeTOKEN, [], 'Patient.telecom.where(system=''email'')', SearchXpathUsageNormal);
  indexes.add('Patient', 'ethnicity', 'Returns patients with an ethnicity extension matching the specified code.', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Patient', 'family', 'A portion of the family name of the patient', SearchParamTypeSTRING, [], 'Patient.name.family', SearchXpathUsageNormal);
  indexes.add('Patient', 'gender', 'Gender of the patient', SearchParamTypeTOKEN, [], 'Patient.gender', SearchXpathUsageNormal);
  indexes.add('Patient', 'given', 'A portion of the given name of the patient', SearchParamTypeSTRING, [], 'Patient.name.given', SearchXpathUsageNormal);
  indexes.add('Patient', 'identifier', 'A patient identifier', SearchParamTypeTOKEN, [], 'Patient.identifier', SearchXpathUsageNormal);
  indexes.add('Patient', 'language', 'Language code (irrespective of use value)', SearchParamTypeTOKEN, [], 'Patient.communication.language', SearchXpathUsageNormal);
  indexes.add('Patient', 'link', 'All patients linked to the given patient', SearchParamTypeREFERENCE, ['Patient'], 'Patient.link.other', SearchXpathUsageNormal);
  indexes.add('Patient', 'name', 'A portion of either family or given name of the patient', SearchParamTypeSTRING, [], 'Patient.name', SearchXpathUsageNormal);
  indexes.add('Patient', 'organization', 'The organization at which this person is a patient', SearchParamTypeREFERENCE, ['Organization'], 'Patient.managingOrganization', SearchXpathUsageNormal);
  indexes.add('Patient', 'phone', 'A value in a phone contact', SearchParamTypeTOKEN, [], 'Patient.telecom.where(system=''phone'')', SearchXpathUsageNormal);
  indexes.add('Patient', 'phonetic', 'A portion of either family or given name using some kind of phonetic matching algorithm', SearchParamTypeSTRING, [], 'Patient.name', SearchXpathUsagePhonetic);
  indexes.add('Patient', 'race', 'Returns patients with a race extension matching the specified code.', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Patient', 'telecom', 'The value in any kind of telecom details of the patient', SearchParamTypeTOKEN, [], 'Patient.telecom', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Patient', ['link']);
  compartments.register(frtPractitioner, 'Patient', ['careprovider']);
end;

procedure TFHIRIndexBuilder.buildIndexesForPaymentNotice(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('PaymentNotice', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'created', 'Creation date fro the notice', SearchParamTypeDATE, [], 'PaymentNotice.created', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'identifier', 'The business identifier of the notice', SearchParamTypeTOKEN, [], 'PaymentNotice.identifier', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'organizationidentifier', 'The organization who generated this resource', SearchParamTypeTOKEN, [], 'PaymentNotice.organization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'organizationreference', 'The organization who generated this resource', SearchParamTypeREFERENCE, ['Organization'], 'PaymentNotice.organization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'paymentstatus', 'The type of payment notice', SearchParamTypeTOKEN, [], 'PaymentNotice.paymentStatus', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'provideridentifier', 'The reference to the provider', SearchParamTypeTOKEN, [], 'PaymentNotice.provider.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'providerreference', 'The reference to the provider', SearchParamTypeREFERENCE, ['Practitioner'], 'PaymentNotice.provider.as(Reference)', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'requestidentifier', 'The Claim', SearchParamTypeTOKEN, [], 'PaymentNotice.request.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'requestreference', 'The Claim', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'PaymentNotice.request.as(Reference)', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'responseidentifier', 'The ClaimResponse', SearchParamTypeTOKEN, [], 'PaymentNotice.response.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'responsereference', 'The ClaimResponse', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'PaymentNotice.response.as(Reference)', SearchXpathUsageNormal);
  indexes.add('PaymentNotice', 'statusdate', 'The date of the payment action', SearchParamTypeDATE, [], 'PaymentNotice.statusDate', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForPaymentReconciliation(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('PaymentReconciliation', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'created', 'The creation date', SearchParamTypeDATE, [], 'PaymentReconciliation.created', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'disposition', 'The contents of the disposition message', SearchParamTypeSTRING, [], 'PaymentReconciliation.disposition', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'identifier', 'The business identifier of the Explanation of Benefit', SearchParamTypeTOKEN, [], 'PaymentReconciliation.identifier', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'organizationidentifier', 'The organization who generated this resource', SearchParamTypeTOKEN, [], 'PaymentReconciliation.organization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'organizationreference', 'The organization who generated this resource', SearchParamTypeREFERENCE, ['Organization'], 'PaymentReconciliation.organization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'outcome', 'The processing outcome', SearchParamTypeTOKEN, [], 'PaymentReconciliation.outcome', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'requestidentifier', 'The reference to the claim', SearchParamTypeTOKEN, [], 'PaymentReconciliation.request.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'requestorganizationidentifier', 'The organization who generated this resource', SearchParamTypeTOKEN, [], 'PaymentReconciliation.requestOrganization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'requestorganizationreference', 'The organization who generated this resource', SearchParamTypeREFERENCE, ['Organization'], 'PaymentReconciliation.requestOrganization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'requestprovideridentifier', 'The reference to the provider who sumbitted the claim', SearchParamTypeTOKEN, [], 'PaymentReconciliation.requestProvider.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'requestproviderreference', 'The reference to the provider who sumbitted the claim', SearchParamTypeREFERENCE, ['Practitioner'], 'PaymentReconciliation.requestProvider.as(Reference)', SearchXpathUsageNormal);
  indexes.add('PaymentReconciliation', 'requestreference', 'The reference to the claim', SearchParamTypeREFERENCE, ['ProcessRequest'], 'PaymentReconciliation.request.as(Reference)', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForPerson(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Person', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Person', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Person', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Person', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Person', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Person', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Person', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Person', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Person', 'address', 'An address in any kind of address/part', SearchParamTypeSTRING, [], 'Person.address', SearchXpathUsageNormal);
  indexes.add('Person', 'address-city', 'A city specified in an address', SearchParamTypeSTRING, [], 'Person.address.city', SearchXpathUsageNormal);
  indexes.add('Person', 'address-country', 'A country specified in an address', SearchParamTypeSTRING, [], 'Person.address.country', SearchXpathUsageNormal);
  indexes.add('Person', 'address-postalcode', 'A postal code specified in an address', SearchParamTypeSTRING, [], 'Person.address.postalCode', SearchXpathUsageNormal);
  indexes.add('Person', 'address-state', 'A state specified in an address', SearchParamTypeSTRING, [], 'Person.address.state', SearchXpathUsageNormal);
  indexes.add('Person', 'address-use', 'A use code specified in an address', SearchParamTypeTOKEN, [], 'Person.address.use', SearchXpathUsageNormal);
  indexes.add('Person', 'birthdate', 'The person''s date of birth', SearchParamTypeDATE, [], 'Person.birthDate', SearchXpathUsageNormal);
  indexes.add('Person', 'email', 'A value in an email contact', SearchParamTypeTOKEN, [], 'Person.telecom.where(system=''email'')', SearchXpathUsageNormal);
  indexes.add('Person', 'gender', 'The gender of the person', SearchParamTypeTOKEN, [], 'Person.gender', SearchXpathUsageNormal);
  indexes.add('Person', 'identifier', 'A person Identifier', SearchParamTypeTOKEN, [], 'Person.identifier', SearchXpathUsageNormal);
  indexes.add('Person', 'link', 'Any link has this Patient, Person, RelatedPerson or Practitioner reference', SearchParamTypeREFERENCE, ['Patient', 'Practitioner', 'Person', 'RelatedPerson'], 'Person.link.target', SearchXpathUsageNormal);
  indexes.add('Person', 'name', 'A portion of name in any name part', SearchParamTypeSTRING, [], 'Person.name', SearchXpathUsageNormal);
  indexes.add('Person', 'organization', 'The organization at which this person record is being managed', SearchParamTypeREFERENCE, ['Organization'], 'Person.managingOrganization', SearchXpathUsageNormal);
  indexes.add('Person', 'patient', 'The Person links to this Patient', SearchParamTypeREFERENCE, ['Patient'], 'Person.link.target', SearchXpathUsageNormal);
  indexes.add('Person', 'phone', 'A value in a phone contact', SearchParamTypeTOKEN, [], 'Person.telecom.where(system=''phone'')', SearchXpathUsageNormal);
  indexes.add('Person', 'phonetic', 'A portion of name using some kind of phonetic matching algorithm', SearchParamTypeSTRING, [], 'Person.name', SearchXpathUsagePhonetic);
  indexes.add('Person', 'practitioner', 'The Person links to this Practitioner', SearchParamTypeREFERENCE, ['Practitioner'], 'Person.link.target', SearchXpathUsageNormal);
  indexes.add('Person', 'relatedperson', 'The Person links to this RelatedPerson', SearchParamTypeREFERENCE, ['RelatedPerson'], 'Person.link.target', SearchXpathUsageNormal);
  indexes.add('Person', 'telecom', 'The value in any kind of contact', SearchParamTypeTOKEN, [], 'Person.telecom', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Person', ['patient']);
  compartments.register(frtRelatedPerson, 'Person', ['link']);
  compartments.register(frtPractitioner, 'Person', ['practitioner']);
end;

procedure TFHIRIndexBuilder.buildIndexesForPractitioner(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Practitioner', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Practitioner', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Practitioner', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Practitioner', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Practitioner', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Practitioner', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Practitioner', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Practitioner', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'address', 'An address in any kind of address/part', SearchParamTypeSTRING, [], 'Practitioner.address', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'address-city', 'A city specified in an address', SearchParamTypeSTRING, [], 'Practitioner.address.city', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'address-country', 'A country specified in an address', SearchParamTypeSTRING, [], 'Practitioner.address.country', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'address-postalcode', 'A postalCode specified in an address', SearchParamTypeSTRING, [], 'Practitioner.address.postalCode', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'address-state', 'A state specified in an address', SearchParamTypeSTRING, [], 'Practitioner.address.state', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'address-use', 'A use code specified in an address', SearchParamTypeTOKEN, [], 'Practitioner.address.use', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'communication', 'One of the languages that the practitioner can communicate with', SearchParamTypeTOKEN, [], 'Practitioner.communication', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'email', 'A value in an email contact', SearchParamTypeTOKEN, [], 'Practitioner.telecom.where(system=''email'') or Practitioner.practitionerRole.telecom.where(system=''email'')', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'family', 'A portion of the family name', SearchParamTypeSTRING, [], 'Practitioner.name.family', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'gender', 'Gender of the practitioner', SearchParamTypeTOKEN, [], 'Practitioner.gender', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'given', 'A portion of the given name', SearchParamTypeSTRING, [], 'Practitioner.name.given', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'identifier', 'A practitioner''s Identifier', SearchParamTypeTOKEN, [], 'Practitioner.identifier | Practitioner.practitionerRole.identifier', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'location', 'One of the locations at which this practitioner provides care', SearchParamTypeREFERENCE, ['Location'], 'Practitioner.practitionerRole.location', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'name', 'A portion of either family or given name', SearchParamTypeSTRING, [], 'Practitioner.name', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'organization', 'The identity of the organization the practitioner represents / acts on behalf of', SearchParamTypeREFERENCE, ['Organization'], 'Practitioner.practitionerRole.organization', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'phone', 'A value in a phone contact', SearchParamTypeTOKEN, [], 'Practitioner.telecom.where(system=''phone'') or Practitioner.practitionerRole.telecom.where(system=''phone'')', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'phonetic', 'A portion of either family or given name using some kind of phonetic matching algorithm', SearchParamTypeSTRING, [], 'Practitioner.name', SearchXpathUsagePhonetic);
  indexes.add('Practitioner', 'role', 'The practitioner can perform this role at for the organization', SearchParamTypeTOKEN, [], 'Practitioner.practitionerRole.role', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'specialty', 'The practitioner has this specialty at an organization', SearchParamTypeTOKEN, [], 'Practitioner.practitionerRole.specialty', SearchXpathUsageNormal);
  indexes.add('Practitioner', 'telecom', 'The value in any kind of contact', SearchParamTypeTOKEN, [], 'Practitioner.telecom | Practitioner.practitionerRole.telecom', SearchXpathUsageNormal);
  compartments.register(frtPractitioner, 'Practitioner', ['{def}']);
end;

procedure TFHIRIndexBuilder.buildIndexesForPractitionerRole(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('PractitionerRole', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', 'email', 'A value in an email contact', SearchParamTypeTOKEN, [], 'PractitionerRole.telecom.where(system=''email'')', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', 'identifier', 'A practitioner''s Identifier', SearchParamTypeTOKEN, [], 'PractitionerRole.identifier', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', 'location', 'One of the locations at which this practitioner provides care', SearchParamTypeREFERENCE, ['Location'], 'PractitionerRole.location', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', 'organization', 'The identity of the organization the practitioner represents / acts on behalf of', SearchParamTypeREFERENCE, ['Organization'], 'PractitionerRole.organization', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', 'phone', 'A value in a phone contact', SearchParamTypeTOKEN, [], 'PractitionerRole.telecom.where(system=''phone'')', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', 'practitioner', 'Practitioner that is able to provide the defined services for the organation', SearchParamTypeREFERENCE, ['Practitioner'], 'PractitionerRole.practitioner', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', 'role', 'The practitioner can perform this role at for the organization', SearchParamTypeTOKEN, [], 'PractitionerRole.role', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', 'specialty', 'The practitioner has this specialty at an organization', SearchParamTypeTOKEN, [], 'PractitionerRole.specialty', SearchXpathUsageNormal);
  indexes.add('PractitionerRole', 'telecom', 'The value in any kind of contact', SearchParamTypeTOKEN, [], 'PractitionerRole.telecom', SearchXpathUsageNormal);
  compartments.register(frtPractitioner, 'PractitionerRole', ['practitioner']);
end;

procedure TFHIRIndexBuilder.buildIndexesForProcedure(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Procedure', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Procedure', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Procedure', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Procedure', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Procedure', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Procedure', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Procedure', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Procedure', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Procedure', 'code', 'A code to identify a  procedure', SearchParamTypeTOKEN, [], 'Procedure.code', SearchXpathUsageNormal);
  indexes.add('Procedure', 'date', 'Date/Period the procedure was performed', SearchParamTypeDATE, [], 'Procedure.performed', SearchXpathUsageNormal);
  indexes.add('Procedure', 'encounter', 'The encounter associated with the procedure', SearchParamTypeREFERENCE, ['Encounter'], 'Procedure.encounter', SearchXpathUsageNormal);
  indexes.add('Procedure', 'identifier', 'A unique identifier for a procedure', SearchParamTypeTOKEN, [], 'Procedure.identifier', SearchXpathUsageNormal);
  indexes.add('Procedure', 'location', 'Where the procedure happened', SearchParamTypeREFERENCE, ['Location'], 'Procedure.location', SearchXpathUsageNormal);
  indexes.add('Procedure', 'patient', 'Search by subject - a patient', SearchParamTypeREFERENCE, ['Patient'], 'Procedure.subject', SearchXpathUsageNormal);
  indexes.add('Procedure', 'performer', 'The reference to the practitioner', SearchParamTypeREFERENCE, ['Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'Procedure.performer.actor', SearchXpathUsageNormal);
  indexes.add('Procedure', 'subject', 'Search by subject', SearchParamTypeREFERENCE, ['Patient', 'Group'], 'Procedure.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Procedure', ['patient', 'performer']);
  compartments.register(frtEncounter, 'Procedure', ['encounter']);
  compartments.register(frtRelatedPerson, 'Procedure', ['performer']);
  compartments.register(frtPractitioner, 'Procedure', ['performer']);
end;

procedure TFHIRIndexBuilder.buildIndexesForProcedureRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ProcedureRequest', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', 'encounter', 'Encounter request created during', SearchParamTypeREFERENCE, ['Encounter'], 'ProcedureRequest.encounter', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', 'identifier', 'A unique identifier of the Procedure Request', SearchParamTypeTOKEN, [], 'ProcedureRequest.identifier', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', 'orderer', 'Who made request', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Practitioner', 'RelatedPerson'], 'ProcedureRequest.orderer', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', 'patient', 'Search by subject - a patient', SearchParamTypeREFERENCE, ['Patient'], 'ProcedureRequest.subject', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', 'performer', 'Who should perform the procedure', SearchParamTypeREFERENCE, ['Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'ProcedureRequest.performer', SearchXpathUsageNormal);
  indexes.add('ProcedureRequest', 'subject', 'Search by subject', SearchParamTypeREFERENCE, ['Patient', 'Group'], 'ProcedureRequest.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'ProcedureRequest', ['subject', 'orderer', 'performer']);
  compartments.register(frtEncounter, 'ProcedureRequest', ['encounter']);
  compartments.register(frtRelatedPerson, 'ProcedureRequest', ['performer', 'orderer']);
  compartments.register(frtPractitioner, 'ProcedureRequest', ['performer', 'orderer']);
  compartments.register(frtDevice, 'ProcedureRequest', ['orderer']);
end;

procedure TFHIRIndexBuilder.buildIndexesForProcessRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ProcessRequest', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', 'action', 'The action requested by this resource', SearchParamTypeTOKEN, [], 'ProcessRequest.action', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', 'identifier', 'The business identifier of the ProcessRequest', SearchParamTypeTOKEN, [], 'ProcessRequest.identifier', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', 'organizationidentifier', 'The organization who generated this request', SearchParamTypeTOKEN, [], 'ProcessRequest.organization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', 'organizationreference', 'The organization who generated this request', SearchParamTypeREFERENCE, ['Organization'], 'ProcessRequest.organization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', 'provideridentifier', 'The provider who regenerated this request', SearchParamTypeTOKEN, [], 'ProcessRequest.provider.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ProcessRequest', 'providerreference', 'The provider who regenerated this request', SearchParamTypeREFERENCE, ['Practitioner'], 'ProcessRequest.provider.as(Reference)', SearchXpathUsageNormal);
  compartments.register(frtPractitioner, 'ProcessRequest', ['providerreference']);
end;

procedure TFHIRIndexBuilder.buildIndexesForProcessResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ProcessResponse', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', 'identifier', 'The business identifier of the Explanation of Benefit', SearchParamTypeTOKEN, [], 'ProcessResponse.identifier', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', 'organizationidentifier', 'The organization who generated this resource', SearchParamTypeTOKEN, [], 'ProcessResponse.organization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', 'organizationreference', 'The organization who generated this resource', SearchParamTypeREFERENCE, ['Organization'], 'ProcessResponse.organization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', 'requestidentifier', 'The reference to the claim', SearchParamTypeTOKEN, [], 'ProcessResponse.request.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', 'requestorganizationidentifier', 'The Organization who is responsible the request transaction', SearchParamTypeTOKEN, [], 'ProcessResponse.requestOrganization.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', 'requestorganizationreference', 'The Organization who is responsible the request transaction', SearchParamTypeREFERENCE, ['Organization'], 'ProcessResponse.requestOrganization.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', 'requestprovideridentifier', 'The Provider who is responsible the request transaction', SearchParamTypeTOKEN, [], 'ProcessResponse.requestProvider.as(Identifier)', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', 'requestproviderreference', 'The Provider who is responsible the request transaction', SearchParamTypeREFERENCE, ['Practitioner'], 'ProcessResponse.requestProvider.as(Reference)', SearchXpathUsageNormal);
  indexes.add('ProcessResponse', 'requestreference', 'The reference to the claim', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'ProcessResponse.request.as(Reference)', SearchXpathUsageNormal);
  compartments.register(frtPractitioner, 'ProcessResponse', ['requestproviderreference']);
end;

procedure TFHIRIndexBuilder.buildIndexesForProtocol(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Protocol', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Protocol', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Protocol', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Protocol', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Protocol', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Protocol', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Protocol', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Protocol', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Protocol', 'identifier', 'The unique id for a particular protocol', SearchParamTypeTOKEN, [], 'Protocol.identifier', SearchXpathUsageNormal);
  indexes.add('Protocol', 'subject', 'Protocols with specified subject', SearchParamTypeREFERENCE, ['Condition', 'Medication', 'Device'], 'Protocol.subject', SearchXpathUsageNormal);
  compartments.register(frtDevice, 'Protocol', ['subject']);
end;

procedure TFHIRIndexBuilder.buildIndexesForProvenance(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Provenance', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Provenance', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Provenance', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Provenance', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Provenance', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Provenance', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Provenance', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Provenance', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Provenance', 'agent', 'Individual, device or organization playing role', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Organization', 'Practitioner', 'RelatedPerson'], 'Provenance.agent.actor', SearchXpathUsageNormal);
  indexes.add('Provenance', 'end', 'End time with inclusive boundary, if not ongoing', SearchParamTypeDATE, [], 'Provenance.period.end', SearchXpathUsageNormal);
  indexes.add('Provenance', 'entity', 'Identity of entity', SearchParamTypeURI, [], 'Provenance.entity.reference', SearchXpathUsageNormal);
  indexes.add('Provenance', 'entity-type', 'The type of resource in this entity', SearchParamTypeTOKEN, [], 'Provenance.entity.type', SearchXpathUsageNormal);
  indexes.add('Provenance', 'location', 'Where the activity occurred, if relevant', SearchParamTypeREFERENCE, ['Location'], 'Provenance.location', SearchXpathUsageNormal);
  indexes.add('Provenance', 'patient', 'Target Reference(s) (usually version specific)', SearchParamTypeREFERENCE, ['Patient'], 'Provenance.target', SearchXpathUsageNormal);
  indexes.add('Provenance', 'sig', 'Indication of the reason the entity signed the object(s)', SearchParamTypeTOKEN, [], 'Provenance.signature.type', SearchXpathUsageNormal);
  indexes.add('Provenance', 'start', 'Starting time with inclusive boundary', SearchParamTypeDATE, [], 'Provenance.period.start', SearchXpathUsageNormal);
  indexes.add('Provenance', 'target', 'Target Reference(s) (usually version specific)', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'Provenance.target', SearchXpathUsageNormal);
  indexes.add('Provenance', 'userid', 'Authorization-system identifier for the agent', SearchParamTypeTOKEN, [], 'Provenance.agent.userId', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Provenance', ['target.subject', 'target.patient', 'patient']);
  compartments.register(frtRelatedPerson, 'Provenance', ['agent']);
  compartments.register(frtPractitioner, 'Provenance', ['agent']);
  compartments.register(frtDevice, 'Provenance', ['agent']);
end;

procedure TFHIRIndexBuilder.buildIndexesForQuestionnaire(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Questionnaire', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Questionnaire', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Questionnaire', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Questionnaire', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Questionnaire', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Questionnaire', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Questionnaire', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Questionnaire', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Questionnaire', 'code', 'A code that corresponds to the questionnaire or one of its groups', SearchParamTypeTOKEN, [], 'Questionnaire.item.concept', SearchXpathUsageNormal);
  indexes.add('Questionnaire', 'context', 'A use context assigned to the questionnaire', SearchParamTypeTOKEN, [], 'Questionnaire.useContext', SearchXpathUsageNormal);
  indexes.add('Questionnaire', 'date', 'When the questionnaire was last changed', SearchParamTypeDATE, [], 'Questionnaire.date', SearchXpathUsageNormal);
  indexes.add('Questionnaire', 'identifier', 'An identifier for the questionnaire', SearchParamTypeTOKEN, [], 'Questionnaire.identifier', SearchXpathUsageNormal);
  indexes.add('Questionnaire', 'publisher', 'The author of the questionnaire', SearchParamTypeSTRING, [], 'Questionnaire.publisher', SearchXpathUsageNormal);
  indexes.add('Questionnaire', 'status', 'The status of the questionnaire', SearchParamTypeTOKEN, [], 'Questionnaire.status', SearchXpathUsageNormal);
  indexes.add('Questionnaire', 'title', 'All or part of the name of the questionnaire', SearchParamTypeSTRING, [], 'Questionnaire.title', SearchXpathUsageNormal);
  indexes.add('Questionnaire', 'version', 'The business version of the questionnaire', SearchParamTypeSTRING, [], 'Questionnaire.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForQuestionnaireResponse(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('QuestionnaireResponse', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', 'author', 'The author of the questionnaire', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Practitioner', 'RelatedPerson'], 'QuestionnaireResponse.author', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', 'authored', 'When the questionnaire was authored', SearchParamTypeDATE, [], 'QuestionnaireResponse.authored', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', 'encounter', 'Encounter during which questionnaire was authored', SearchParamTypeREFERENCE, ['Encounter'], 'QuestionnaireResponse.encounter', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', 'patient', 'The patient that is the subject of the questionnaire', SearchParamTypeREFERENCE, ['Patient'], 'QuestionnaireResponse.subject', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', 'questionnaire', 'The questionnaire the answers are provided for', SearchParamTypeREFERENCE, ['Questionnaire'], 'QuestionnaireResponse.questionnaire', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', 'source', 'The person who answered the questions', SearchParamTypeREFERENCE, ['Patient', 'Practitioner', 'RelatedPerson'], 'QuestionnaireResponse.source', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', 'status', 'The status of the questionnaire response', SearchParamTypeTOKEN, [], 'QuestionnaireResponse.status', SearchXpathUsageNormal);
  indexes.add('QuestionnaireResponse', 'subject', 'The subject of the questionnaire', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'QuestionnaireResponse.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'QuestionnaireResponse', ['subject', 'author']);
  compartments.register(frtEncounter, 'QuestionnaireResponse', ['encounter']);
  compartments.register(frtRelatedPerson, 'QuestionnaireResponse', ['author', 'source']);
  compartments.register(frtPractitioner, 'QuestionnaireResponse', ['author', 'source']);
  compartments.register(frtDevice, 'QuestionnaireResponse', ['author']);
end;

procedure TFHIRIndexBuilder.buildIndexesForReferralRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ReferralRequest', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'basedon', 'Request being fulfilled', SearchParamTypeREFERENCE, ['CarePlan', 'ReferralRequest', 'ProcedureRequest', 'DiagnosticOrder'], 'ReferralRequest.basedOn', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'category', 'Proposal, plan or request', SearchParamTypeTOKEN, [], 'ReferralRequest.category', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'context', 'Part of encounter or episode of care', SearchParamTypeREFERENCE, ['Encounter', 'EpisodeOfCare'], 'ReferralRequest.context', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'date', 'Creation or activation date', SearchParamTypeDATE, [], 'ReferralRequest.authored', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'parent', 'Part of common request', SearchParamTypeTOKEN, [], 'ReferralRequest.parent', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'patient', 'Who the referral is about', SearchParamTypeREFERENCE, ['Patient'], 'ReferralRequest.patient', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'priority', 'The priority assigned to the referral', SearchParamTypeTOKEN, [], 'ReferralRequest.priority', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'recipient', 'The person that the referral was sent to', SearchParamTypeREFERENCE, ['Organization', 'Practitioner'], 'ReferralRequest.recipient', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'requester', 'Requester of referral / transfer of care', SearchParamTypeREFERENCE, ['Organization', 'Patient', 'Practitioner'], 'ReferralRequest.requester', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'specialty', 'The specialty that the referral is for', SearchParamTypeTOKEN, [], 'ReferralRequest.specialty', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'status', 'The status of the referral', SearchParamTypeTOKEN, [], 'ReferralRequest.status', SearchXpathUsageNormal);
  indexes.add('ReferralRequest', 'type', 'The type of the referral', SearchParamTypeTOKEN, [], 'ReferralRequest.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'ReferralRequest', ['patient', 'requester']);
  compartments.register(frtPractitioner, 'ReferralRequest', ['requester', 'recipient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForRelatedPerson(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('RelatedPerson', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'address', 'An address in any kind of address/part', SearchParamTypeSTRING, [], 'RelatedPerson.address', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'address-city', 'A city specified in an address', SearchParamTypeSTRING, [], 'RelatedPerson.address.city', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'address-country', 'A country specified in an address', SearchParamTypeSTRING, [], 'RelatedPerson.address.country', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'address-postalcode', 'A postal code specified in an address', SearchParamTypeSTRING, [], 'RelatedPerson.address.postalCode', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'address-state', 'A state specified in an address', SearchParamTypeSTRING, [], 'RelatedPerson.address.state', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'address-use', 'A use code specified in an address', SearchParamTypeTOKEN, [], 'RelatedPerson.address.use', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'birthdate', 'The Related Person''s date of birth', SearchParamTypeDATE, [], 'RelatedPerson.birthDate', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'email', 'A value in an email contact', SearchParamTypeTOKEN, [], 'RelatedPerson.telecom.where(system=''email'')', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'gender', 'Gender of the person', SearchParamTypeTOKEN, [], 'RelatedPerson.gender', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'identifier', 'A patient Identifier', SearchParamTypeTOKEN, [], 'RelatedPerson.identifier', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'name', 'A portion of name in any name part', SearchParamTypeSTRING, [], 'RelatedPerson.name', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'patient', 'The patient this person is related to', SearchParamTypeREFERENCE, ['Patient'], 'RelatedPerson.patient', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'phone', 'A value in a phone contact', SearchParamTypeTOKEN, [], 'RelatedPerson.telecom.where(system=''phone'')', SearchXpathUsageNormal);
  indexes.add('RelatedPerson', 'phonetic', 'A portion of name using some kind of phonetic matching algorithm', SearchParamTypeSTRING, [], 'RelatedPerson.name', SearchXpathUsagePhonetic);
  indexes.add('RelatedPerson', 'telecom', 'The value in any kind of contact', SearchParamTypeTOKEN, [], 'RelatedPerson.telecom', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'RelatedPerson', ['patient']);
  compartments.register(frtRelatedPerson, 'RelatedPerson', ['{def}']);
end;

procedure TFHIRIndexBuilder.buildIndexesForRiskAssessment(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('RiskAssessment', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', 'condition', 'Condition assessed', SearchParamTypeREFERENCE, ['Condition'], 'RiskAssessment.condition', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', 'date', 'When was assessment made?', SearchParamTypeDATE, [], 'RiskAssessment.date', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', 'encounter', 'Where was assessment performed?', SearchParamTypeREFERENCE, ['Encounter'], 'RiskAssessment.encounter', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', 'identifier', 'Unique identifier for the assessment', SearchParamTypeTOKEN, [], 'RiskAssessment.identifier', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', 'method', 'Evaluation mechanism', SearchParamTypeTOKEN, [], 'RiskAssessment.method', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', 'patient', 'Who/what does assessment apply to?', SearchParamTypeREFERENCE, ['Patient'], 'RiskAssessment.subject', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', 'performer', 'Who did assessment?', SearchParamTypeREFERENCE, ['Device', 'Practitioner'], 'RiskAssessment.performer', SearchXpathUsageNormal);
  indexes.add('RiskAssessment', 'subject', 'Who/what does assessment apply to?', SearchParamTypeREFERENCE, ['Patient', 'Group'], 'RiskAssessment.subject', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'RiskAssessment', ['subject']);
  compartments.register(frtPractitioner, 'RiskAssessment', ['performer']);
  compartments.register(frtDevice, 'RiskAssessment', ['performer']);
end;

procedure TFHIRIndexBuilder.buildIndexesForSchedule(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Schedule', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Schedule', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Schedule', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Schedule', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Schedule', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Schedule', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Schedule', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Schedule', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Schedule', 'actor', 'The individual(HealthcareService, Practitioner, Location, ...) to find a Schedule for', SearchParamTypeREFERENCE, ['Device', 'Patient', 'HealthcareService', 'Location', 'Practitioner', 'RelatedPerson'], 'Schedule.actor', SearchXpathUsageNormal);
  indexes.add('Schedule', 'date', 'Search for Schedule resources that have a period that contains this date specified', SearchParamTypeDATE, [], 'Schedule.planningHorizon', SearchXpathUsageNormal);
  indexes.add('Schedule', 'identifier', 'A Schedule Identifier', SearchParamTypeTOKEN, [], 'Schedule.identifier', SearchXpathUsageNormal);
  indexes.add('Schedule', 'type', 'The type of appointments that can be booked into associated slot(s)', SearchParamTypeTOKEN, [], 'Schedule.serviceType', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Schedule', ['actor']);
  compartments.register(frtRelatedPerson, 'Schedule', ['actor']);
  compartments.register(frtPractitioner, 'Schedule', ['actor']);
  compartments.register(frtDevice, 'Schedule', ['actor']);
end;

procedure TFHIRIndexBuilder.buildIndexesForSearchParameter(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('SearchParameter', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('SearchParameter', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('SearchParameter', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('SearchParameter', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('SearchParameter', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('SearchParameter', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('SearchParameter', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('SearchParameter', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('SearchParameter', 'base', 'The resource type this search parameter applies to', SearchParamTypeTOKEN, [], 'SearchParameter.base', SearchXpathUsageNormal);
  indexes.add('SearchParameter', 'code', 'Code used in URL', SearchParamTypeTOKEN, [], 'SearchParameter.code', SearchXpathUsageNormal);
  indexes.add('SearchParameter', 'context', 'A use context assigned to the search parameter', SearchParamTypeTOKEN, [], 'SearchParameter.useContext', SearchXpathUsageNormal);
  indexes.add('SearchParameter', 'description', 'Documentation for  search parameter', SearchParamTypeSTRING, [], 'SearchParameter.description', SearchXpathUsageNormal);
  indexes.add('SearchParameter', 'name', 'Informal name for this search parameter', SearchParamTypeSTRING, [], 'SearchParameter.name', SearchXpathUsageNormal);
  indexes.add('SearchParameter', 'target', 'Types of resource (if a resource reference)', SearchParamTypeTOKEN, [], 'SearchParameter.target', SearchXpathUsageNormal);
  indexes.add('SearchParameter', 'type', 'number | date | string | token | reference | composite | quantity | uri', SearchParamTypeTOKEN, [], 'SearchParameter.type', SearchXpathUsageNormal);
  indexes.add('SearchParameter', 'url', 'Absolute URL used to reference this search parameter', SearchParamTypeURI, [], 'SearchParameter.url', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForSequence(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Sequence', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Sequence', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Sequence', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Sequence', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Sequence', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Sequence', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Sequence', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Sequence', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Sequence', 'chromosome', 'Chromosome of the sequence', SearchParamTypeTOKEN, [], 'Sequence.referenceSeq.chromosome', SearchXpathUsageNormal);
  indexes.add('Sequence', 'coordinate', 'Genomic coordinate of the sequence. For example, a search for sequence in region 1:123-345 can be represented as `coordinate=1$lt345$gt123`', SearchParamTypeCOMPOSITE, [], '', SearchXpathUsageNormal);
  indexes.add('Sequence', 'end', 'End position (0-based exclusive) of the sequence', SearchParamTypeNUMBER, [], 'Sequence.variation.end', SearchXpathUsageNormal);
  indexes.add('Sequence', 'patient', 'The subject that the observation is about', SearchParamTypeREFERENCE, ['Patient'], 'Sequence.patient', SearchXpathUsageNormal);
  indexes.add('Sequence', 'species', 'The organism from which sample of the sequence was extracted.', SearchParamTypeTOKEN, [], 'Sequence.species', SearchXpathUsageNormal);
  indexes.add('Sequence', 'start', 'Start position (0-based inclusive) of the sequence', SearchParamTypeNUMBER, [], 'Sequence.variation.start', SearchXpathUsageNormal);
  indexes.add('Sequence', 'type', 'The type of the variant: Amino acid / cDNA transcript / RNA variation.', SearchParamTypeTOKEN, [], 'Sequence.type', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForSlot(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Slot', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Slot', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Slot', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Slot', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Slot', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Slot', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Slot', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Slot', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Slot', 'identifier', 'A Slot Identifier', SearchParamTypeTOKEN, [], 'Slot.identifier', SearchXpathUsageNormal);
  indexes.add('Slot', 'schedule', 'The Schedule Resource that we are seeking a slot within', SearchParamTypeREFERENCE, ['Schedule'], 'Slot.schedule', SearchXpathUsageNormal);
  indexes.add('Slot', 'slot-type', 'The type of appointments that can be booked into the slot', SearchParamTypeTOKEN, [], 'Slot.serviceType', SearchXpathUsageNormal);
  indexes.add('Slot', 'start', 'Appointment date/time.', SearchParamTypeDATE, [], 'Slot.start', SearchXpathUsageNormal);
  indexes.add('Slot', 'status', 'The free/busy status of the appointment', SearchParamTypeTOKEN, [], 'Slot.status', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForSpecimen(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Specimen', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Specimen', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Specimen', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Specimen', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Specimen', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Specimen', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Specimen', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Specimen', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Specimen', 'accession', 'The accession number associated with the specimen', SearchParamTypeTOKEN, [], 'Specimen.accessionIdentifier', SearchXpathUsageNormal);
  indexes.add('Specimen', 'bodysite', 'The code for the body site from where the specimen originated', SearchParamTypeTOKEN, [], 'Specimen.collection.bodySite', SearchXpathUsageNormal);
  indexes.add('Specimen', 'collected', 'The date the specimen was collected', SearchParamTypeDATE, [], 'Specimen.collection.collected', SearchXpathUsageNormal);
  indexes.add('Specimen', 'collector', 'Who collected the specimen', SearchParamTypeREFERENCE, ['Practitioner'], 'Specimen.collection.collector', SearchXpathUsageNormal);
  indexes.add('Specimen', 'container', 'The kind of specimen container', SearchParamTypeTOKEN, [], 'Specimen.container.type', SearchXpathUsageNormal);
  indexes.add('Specimen', 'container-id', 'The unique identifier associated with the specimen container', SearchParamTypeTOKEN, [], 'Specimen.container.identifier', SearchXpathUsageNormal);
  indexes.add('Specimen', 'identifier', 'The unique identifier associated with the specimen', SearchParamTypeTOKEN, [], 'Specimen.identifier', SearchXpathUsageNormal);
  indexes.add('Specimen', 'parent', 'The parent of the specimen', SearchParamTypeREFERENCE, ['Specimen'], 'Specimen.parent', SearchXpathUsageNormal);
  indexes.add('Specimen', 'patient', 'The patient the specimen comes from', SearchParamTypeREFERENCE, ['Patient'], 'Specimen.subject', SearchXpathUsageNormal);
  indexes.add('Specimen', 'subject', 'The subject of the specimen', SearchParamTypeREFERENCE, ['Device', 'Patient', 'Substance', 'Group'], 'Specimen.subject', SearchXpathUsageNormal);
  indexes.add('Specimen', 'type', 'The specimen type', SearchParamTypeTOKEN, [], 'Specimen.type', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'Specimen', ['subject']);
  compartments.register(frtPractitioner, 'Specimen', ['collector']);
  compartments.register(frtDevice, 'Specimen', ['subject']);
end;

procedure TFHIRIndexBuilder.buildIndexesForStructureDefinition(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('StructureDefinition', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'abstract', 'Whether the structure is abstract', SearchParamTypeTOKEN, [], 'StructureDefinition.abstract', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'base', 'Definition that this type is constrained/specialized from', SearchParamTypeURI, [], 'StructureDefinition.baseDefinition', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'base-path', 'Path that identifies the base element', SearchParamTypeTOKEN, [], 'StructureDefinition.snapshot.element.base.path | StructureDefinition.differential.element.base.path', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'code', 'A code for the profile', SearchParamTypeTOKEN, [], 'StructureDefinition.code', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'context', 'A use context assigned to the structure', SearchParamTypeTOKEN, [], 'StructureDefinition.useContext', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'context-type', 'resource | datatype | extension', SearchParamTypeTOKEN, [], 'StructureDefinition.contextType', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'date', 'The profile publication date', SearchParamTypeDATE, [], 'StructureDefinition.date', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'derivation', 'specialization | constraint - How relates to base definition', SearchParamTypeTOKEN, [], 'StructureDefinition.derivation', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'description', 'Text search in the description of the profile', SearchParamTypeSTRING, [], 'StructureDefinition.description', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'display', 'Use this name when displaying the value', SearchParamTypeSTRING, [], 'StructureDefinition.display', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'experimental', 'If for testing purposes, not real usage', SearchParamTypeTOKEN, [], 'StructureDefinition.experimental', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'ext-context', 'Where the extension can be used in instances', SearchParamTypeSTRING, [], 'StructureDefinition.context', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'identifier', 'The identifier of the profile', SearchParamTypeTOKEN, [], 'StructureDefinition.identifier', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'kind', 'datatype | resource | logical', SearchParamTypeTOKEN, [], 'StructureDefinition.kind', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'name', 'Name of the profile', SearchParamTypeSTRING, [], 'StructureDefinition.name', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'path', 'A path that is constrained in the profile', SearchParamTypeTOKEN, [], 'StructureDefinition.snapshot.element.path | StructureDefinition.differential.element.path', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'publisher', 'Name of the publisher of the profile', SearchParamTypeSTRING, [], 'StructureDefinition.publisher', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'status', 'The current status of the profile', SearchParamTypeTOKEN, [], 'StructureDefinition.status', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'type', 'Any datatype or resource, including abstract ones', SearchParamTypeTOKEN, [], 'StructureDefinition.baseType', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'url', 'Absolute URL used to reference this StructureDefinition', SearchParamTypeURI, [], 'StructureDefinition.url', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'valueset', 'A vocabulary binding reference', SearchParamTypeREFERENCE, ['ValueSet'], 'StructureDefinition.snapshot.element.binding.valueSet', SearchXpathUsageNormal);
  indexes.add('StructureDefinition', 'version', 'The version identifier of the profile', SearchParamTypeTOKEN, [], 'StructureDefinition.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForStructureMap(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('StructureMap', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('StructureMap', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('StructureMap', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('StructureMap', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('StructureMap', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('StructureMap', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('StructureMap', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('StructureMap', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'context', 'A use context assigned to the structure', SearchParamTypeTOKEN, [], 'StructureMap.useContext', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'date', 'The profile publication date', SearchParamTypeDATE, [], 'StructureMap.date', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'description', 'Text search in the description of the profile', SearchParamTypeSTRING, [], 'StructureMap.description', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'experimental', 'Whether the map is defined purely for experimental reasons', SearchParamTypeTOKEN, [], 'StructureMap.experimental', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'identifier', 'The identifier of the profile', SearchParamTypeTOKEN, [], 'StructureMap.identifier', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'name', 'Name of the profile', SearchParamTypeSTRING, [], 'StructureMap.name', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'publisher', 'Name of the publisher of the profile', SearchParamTypeSTRING, [], 'StructureMap.publisher', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'status', 'The current status of the profile', SearchParamTypeTOKEN, [], 'StructureMap.status', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'url', 'The url that identifies the structure map', SearchParamTypeURI, [], 'StructureMap.url', SearchXpathUsageNormal);
  indexes.add('StructureMap', 'version', 'The version identifier of the profile', SearchParamTypeTOKEN, [], 'StructureMap.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForSubscription(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Subscription', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Subscription', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Subscription', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Subscription', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Subscription', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Subscription', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Subscription', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Subscription', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Subscription', 'contact', 'Contact details for source (e.g. troubleshooting)', SearchParamTypeTOKEN, [], 'Subscription.contact', SearchXpathUsageNormal);
  indexes.add('Subscription', 'criteria', 'Rule for server push criteria', SearchParamTypeSTRING, [], 'Subscription.criteria', SearchXpathUsageNormal);
  indexes.add('Subscription', 'payload', 'Mimetype to send, or blank for no payload', SearchParamTypeSTRING, [], 'Subscription.channel.payload', SearchXpathUsageNormal);
  indexes.add('Subscription', 'status', 'requested | active | error | off', SearchParamTypeTOKEN, [], 'Subscription.status', SearchXpathUsageNormal);
  indexes.add('Subscription', 'tag', 'A tag to add to matching resources', SearchParamTypeTOKEN, [], 'Subscription.tag', SearchXpathUsageNormal);
  indexes.add('Subscription', 'type', 'rest-hook | websocket | email | sms | message', SearchParamTypeTOKEN, [], 'Subscription.channel.type', SearchXpathUsageNormal);
  indexes.add('Subscription', 'url', 'Where the channel points to', SearchParamTypeURI, [], 'Subscription.channel.endpoint', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForSubstance(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Substance', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Substance', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Substance', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Substance', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Substance', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Substance', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Substance', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Substance', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Substance', 'category', 'The category of the substance', SearchParamTypeTOKEN, [], 'Substance.category', SearchXpathUsageNormal);
  indexes.add('Substance', 'code', 'The code of the substance', SearchParamTypeTOKEN, [], 'Substance.code', SearchXpathUsageNormal);
  indexes.add('Substance', 'container-identifier', 'Identifier of the package/container', SearchParamTypeTOKEN, [], 'Substance.instance.identifier', SearchXpathUsageNormal);
  indexes.add('Substance', 'expiry', 'Expiry date of package or container of substance', SearchParamTypeDATE, [], 'Substance.instance.expiry', SearchXpathUsageNormal);
  indexes.add('Substance', 'identifier', 'Unique identifier for the substance', SearchParamTypeTOKEN, [], 'Substance.identifier', SearchXpathUsageNormal);
  indexes.add('Substance', 'quantity', 'Amount of substance in the package', SearchParamTypeQUANTITY, [], 'Substance.instance.quantity', SearchXpathUsageNormal);
  indexes.add('Substance', 'substance', 'A component of the substance', SearchParamTypeREFERENCE, ['Substance'], 'Substance.ingredient.substance', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForSupplyDelivery(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('SupplyDelivery', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', 'identifier', 'External identifier', SearchParamTypeTOKEN, [], 'SupplyDelivery.identifier', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', 'patient', 'Patient for whom the item is supplied', SearchParamTypeREFERENCE, ['Patient'], 'SupplyDelivery.patient', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', 'receiver', 'Who collected the Supply', SearchParamTypeREFERENCE, ['Practitioner'], 'SupplyDelivery.receiver', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', 'status', 'in-progress | completed | abandoned', SearchParamTypeTOKEN, [], 'SupplyDelivery.status', SearchXpathUsageNormal);
  indexes.add('SupplyDelivery', 'supplier', 'Dispenser', SearchParamTypeREFERENCE, ['Practitioner'], 'SupplyDelivery.supplier', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'SupplyDelivery', ['patient']);
  compartments.register(frtPractitioner, 'SupplyDelivery', ['supplier', 'receiver']);
end;

procedure TFHIRIndexBuilder.buildIndexesForSupplyRequest(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('SupplyRequest', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', 'date', 'When the request was made', SearchParamTypeDATE, [], 'SupplyRequest.date', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', 'identifier', 'Unique identifier', SearchParamTypeTOKEN, [], 'SupplyRequest.identifier', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', 'kind', 'The kind of supply (central, non-stock, etc.)', SearchParamTypeTOKEN, [], 'SupplyRequest.kind', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', 'patient', 'Patient for whom the item is supplied', SearchParamTypeREFERENCE, ['Patient'], 'SupplyRequest.patient', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', 'source', 'Who initiated this order', SearchParamTypeREFERENCE, ['Organization', 'Patient', 'Practitioner'], 'SupplyRequest.source', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', 'status', 'requested | completed | failed | cancelled', SearchParamTypeTOKEN, [], 'SupplyRequest.status', SearchXpathUsageNormal);
  indexes.add('SupplyRequest', 'supplier', 'Who is intended to fulfill the request', SearchParamTypeREFERENCE, ['Organization'], 'SupplyRequest.supplier', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'SupplyRequest', ['patient']);
end;

procedure TFHIRIndexBuilder.buildIndexesForTask(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('Task', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Task', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('Task', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('Task', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('Task', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('Task', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('Task', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('Task', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('Task', 'created', 'Search by creation date', SearchParamTypeDATE, [], 'Task.created', SearchXpathUsageNormal);
  indexes.add('Task', 'creator', 'Search by task creator', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'Task.creator', SearchXpathUsageNormal);
  indexes.add('Task', 'definition', 'Search by task definition', SearchParamTypeURI, [], 'Task.definition', SearchXpathUsageNormal);
  indexes.add('Task', 'failure', 'Search by failure reason', SearchParamTypeTOKEN, [], 'Task.failureReason', SearchXpathUsageNormal);
  indexes.add('Task', 'identifier', 'Search for a task instance by its business identifier', SearchParamTypeTOKEN, [], 'Task.identifier', SearchXpathUsageNormal);
  indexes.add('Task', 'modified', 'Search by last modification date', SearchParamTypeDATE, [], 'Task.lastModified', SearchXpathUsageNormal);
  indexes.add('Task', 'owner', 'Search by task owner', SearchParamTypeREFERENCE, ['Device', 'Organization', 'Patient', 'Practitioner', 'RelatedPerson'], 'Task.owner', SearchXpathUsageNormal);
  indexes.add('Task', 'parent', 'Search by parent task', SearchParamTypeREFERENCE, ['Task'], 'Task.parent', SearchXpathUsageNormal);
  indexes.add('Task', 'performer', 'Search by recommended type of performer (e.g., Requester, Performer, Scheduler).', SearchParamTypeTOKEN, [], 'Task.performerType', SearchXpathUsageNormal);
  indexes.add('Task', 'priority', 'Search by task priority', SearchParamTypeTOKEN, [], 'Task.priority', SearchXpathUsageNormal);
  indexes.add('Task', 'status', 'Search by task status', SearchParamTypeTOKEN, [], 'Task.status', SearchXpathUsageNormal);
  indexes.add('Task', 'subject', 'Search by task subject', SearchParamTypeREFERENCE, ALL_RESOURCE_TYPE_NAMES, 'Task.subject', SearchXpathUsageNormal);
  indexes.add('Task', 'type', 'Search by task type', SearchParamTypeTOKEN, [], 'Task.type', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForTestScript(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('TestScript', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('TestScript', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('TestScript', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('TestScript', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('TestScript', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('TestScript', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('TestScript', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('TestScript', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('TestScript', 'description', 'Natural language description of the TestScript', SearchParamTypeSTRING, [], 'TestScript.description', SearchXpathUsageNormal);
  indexes.add('TestScript', 'identifier', 'External identifier', SearchParamTypeTOKEN, [], 'TestScript.identifier', SearchXpathUsageNormal);
  indexes.add('TestScript', 'name', 'Informal name for this TestScript', SearchParamTypeSTRING, [], 'TestScript.name', SearchXpathUsageNormal);
  indexes.add('TestScript', 'testscript-capability', 'TestScript required and validated capability', SearchParamTypeSTRING, [], 'TestScript.metadata.capability.description', SearchXpathUsageNormal);
  indexes.add('TestScript', 'testscript-setup-capability', 'TestScript setup required and validated capability', SearchParamTypeSTRING, [], 'TestScript.setup.metadata.capability.description', SearchXpathUsageNormal);
  indexes.add('TestScript', 'testscript-test-capability', 'TestScript test required and validated capability', SearchParamTypeSTRING, [], 'TestScript.test.metadata.capability.description', SearchXpathUsageNormal);
  indexes.add('TestScript', 'url', 'Absolute URL used to reference this TestScript', SearchParamTypeURI, [], 'TestScript.url', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForValueSet(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('ValueSet', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ValueSet', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('ValueSet', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('ValueSet', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('ValueSet', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('ValueSet', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('ValueSet', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('ValueSet', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'context', 'A use context assigned to the value set', SearchParamTypeTOKEN, [], 'ValueSet.useContext', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'date', 'The value set publication date', SearchParamTypeDATE, [], 'ValueSet.date', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'description', 'Text search in the description of the value set', SearchParamTypeSTRING, [], 'ValueSet.description', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'expansion', 'Uniquely identifies this expansion', SearchParamTypeURI, [], 'ValueSet.expansion.identifier', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'identifier', 'The identifier for the value set', SearchParamTypeTOKEN, [], 'ValueSet.identifier', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'name', 'The name of the value set', SearchParamTypeSTRING, [], 'ValueSet.name', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'publisher', 'Name of the publisher of the value set', SearchParamTypeSTRING, [], 'ValueSet.publisher', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'reference', 'A code system included or excluded in the value set or an imported value set', SearchParamTypeURI, [], 'ValueSet.compose.include.system', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'status', 'The status of the value set', SearchParamTypeTOKEN, [], 'ValueSet.status', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'url', 'The logical URL for the value set', SearchParamTypeURI, [], 'ValueSet.url', SearchXpathUsageNormal);
  indexes.add('ValueSet', 'version', 'The version identifier of the value set', SearchParamTypeTOKEN, [], 'ValueSet.version', SearchXpathUsageNormal);
end;

procedure TFHIRIndexBuilder.buildIndexesForVisionPrescription(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  indexes.add('VisionPrescription', '_content', 'Search on the entire content of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', '_id', 'Logical id of this artifact', SearchParamTypeTOKEN, [], 'Resource.id', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', '_lastUpdated', 'When the resource version last changed', SearchParamTypeDATE, [], 'Resource.meta.lastUpdated', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', '_profile', 'Profiles this resource claims to conform to', SearchParamTypeURI, [], 'Resource.meta.profile', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', '_query', 'A custom search profile that describes a specific defined query operation', SearchParamTypeTOKEN, [], '', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', '_security', 'Security Labels applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.security', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', '_tag', 'Tags applied to this resource', SearchParamTypeTOKEN, [], 'Resource.meta.tag', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', '_text', 'Search on the narrative of the resource', SearchParamTypeSTRING, [], '', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', 'datewritten', 'Return prescriptions written on this date', SearchParamTypeDATE, [], 'VisionPrescription.dateWritten', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', 'encounter', 'Return prescriptions with this encounter identifier', SearchParamTypeREFERENCE, ['Encounter'], 'VisionPrescription.encounter', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', 'identifier', 'Return prescriptions with this external identifier', SearchParamTypeTOKEN, [], 'VisionPrescription.identifier', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', 'patient', 'The identity of a patient to list dispenses for', SearchParamTypeREFERENCE, ['Patient'], 'VisionPrescription.patient', SearchXpathUsageNormal);
  indexes.add('VisionPrescription', 'prescriber', 'Who authorizes the vision product', SearchParamTypeREFERENCE, ['Practitioner'], 'VisionPrescription.prescriber', SearchXpathUsageNormal);
  compartments.register(frtPatient, 'VisionPrescription', ['patient']);
  compartments.register(frtEncounter, 'VisionPrescription', ['encounter']);
  compartments.register(frtPractitioner, 'VisionPrescription', ['prescriber']);
end;

procedure TFHIRIndexBuilder.registerIndexes(Indexes : TFhirIndexList; compartments : TFHIRCompartmentList);
begin
  buildIndexesForAccount(Indexes, compartments);
  buildIndexesForAllergyIntolerance(Indexes, compartments);
  buildIndexesForAppointment(Indexes, compartments);
  buildIndexesForAppointmentResponse(Indexes, compartments);
  buildIndexesForAuditEvent(Indexes, compartments);
  buildIndexesForBasic(Indexes, compartments);
  buildIndexesForBinary(Indexes, compartments);
  buildIndexesForBodySite(Indexes, compartments);
  buildIndexesForBundle(Indexes, compartments);
  buildIndexesForCarePlan(Indexes, compartments);
  buildIndexesForCareTeam(Indexes, compartments);
  buildIndexesForClaim(Indexes, compartments);
  buildIndexesForClaimResponse(Indexes, compartments);
  buildIndexesForClinicalImpression(Indexes, compartments);
  buildIndexesForCodeSystem(Indexes, compartments);
  buildIndexesForCommunication(Indexes, compartments);
  buildIndexesForCommunicationRequest(Indexes, compartments);
  buildIndexesForCompartmentDefinition(Indexes, compartments);
  buildIndexesForComposition(Indexes, compartments);
  buildIndexesForConceptMap(Indexes, compartments);
  buildIndexesForCondition(Indexes, compartments);
  buildIndexesForConformance(Indexes, compartments);
  buildIndexesForContract(Indexes, compartments);
  buildIndexesForCoverage(Indexes, compartments);
  buildIndexesForDataElement(Indexes, compartments);
  buildIndexesForDecisionSupportRule(Indexes, compartments);
  buildIndexesForDecisionSupportServiceModule(Indexes, compartments);
  buildIndexesForDetectedIssue(Indexes, compartments);
  buildIndexesForDevice(Indexes, compartments);
  buildIndexesForDeviceComponent(Indexes, compartments);
  buildIndexesForDeviceMetric(Indexes, compartments);
  buildIndexesForDeviceUseRequest(Indexes, compartments);
  buildIndexesForDeviceUseStatement(Indexes, compartments);
  buildIndexesForDiagnosticOrder(Indexes, compartments);
  buildIndexesForDiagnosticReport(Indexes, compartments);
  buildIndexesForDocumentManifest(Indexes, compartments);
  buildIndexesForDocumentReference(Indexes, compartments);
  buildIndexesForEligibilityRequest(Indexes, compartments);
  buildIndexesForEligibilityResponse(Indexes, compartments);
  buildIndexesForEncounter(Indexes, compartments);
  buildIndexesForEnrollmentRequest(Indexes, compartments);
  buildIndexesForEnrollmentResponse(Indexes, compartments);
  buildIndexesForEpisodeOfCare(Indexes, compartments);
  buildIndexesForExpansionProfile(Indexes, compartments);
  buildIndexesForExplanationOfBenefit(Indexes, compartments);
  buildIndexesForFamilyMemberHistory(Indexes, compartments);
  buildIndexesForFlag(Indexes, compartments);
  buildIndexesForGoal(Indexes, compartments);
  buildIndexesForGroup(Indexes, compartments);
  buildIndexesForGuidanceResponse(Indexes, compartments);
  buildIndexesForHealthcareService(Indexes, compartments);
  buildIndexesForImagingExcerpt(Indexes, compartments);
  buildIndexesForImagingObjectSelection(Indexes, compartments);
  buildIndexesForImagingStudy(Indexes, compartments);
  buildIndexesForImmunization(Indexes, compartments);
  buildIndexesForImmunizationRecommendation(Indexes, compartments);
  buildIndexesForImplementationGuide(Indexes, compartments);
  buildIndexesForLibrary(Indexes, compartments);
  buildIndexesForLinkage(Indexes, compartments);
  buildIndexesForList(Indexes, compartments);
  buildIndexesForLocation(Indexes, compartments);
  buildIndexesForMeasure(Indexes, compartments);
  buildIndexesForMeasureReport(Indexes, compartments);
  buildIndexesForMedia(Indexes, compartments);
  buildIndexesForMedication(Indexes, compartments);
  buildIndexesForMedicationAdministration(Indexes, compartments);
  buildIndexesForMedicationDispense(Indexes, compartments);
  buildIndexesForMedicationOrder(Indexes, compartments);
  buildIndexesForMedicationStatement(Indexes, compartments);
  buildIndexesForMessageHeader(Indexes, compartments);
  buildIndexesForModuleDefinition(Indexes, compartments);
  buildIndexesForNamingSystem(Indexes, compartments);
  buildIndexesForNutritionOrder(Indexes, compartments);
  buildIndexesForObservation(Indexes, compartments);
  buildIndexesForOperationDefinition(Indexes, compartments);
  buildIndexesForOperationOutcome(Indexes, compartments);
  buildIndexesForOrder(Indexes, compartments);
  buildIndexesForOrderResponse(Indexes, compartments);
  buildIndexesForOrderSet(Indexes, compartments);
  buildIndexesForOrganization(Indexes, compartments);
  buildIndexesForPatient(Indexes, compartments);
  buildIndexesForPaymentNotice(Indexes, compartments);
  buildIndexesForPaymentReconciliation(Indexes, compartments);
  buildIndexesForPerson(Indexes, compartments);
  buildIndexesForPractitioner(Indexes, compartments);
  buildIndexesForPractitionerRole(Indexes, compartments);
  buildIndexesForProcedure(Indexes, compartments);
  buildIndexesForProcedureRequest(Indexes, compartments);
  buildIndexesForProcessRequest(Indexes, compartments);
  buildIndexesForProcessResponse(Indexes, compartments);
  buildIndexesForProtocol(Indexes, compartments);
  buildIndexesForProvenance(Indexes, compartments);
  buildIndexesForQuestionnaire(Indexes, compartments);
  buildIndexesForQuestionnaireResponse(Indexes, compartments);
  buildIndexesForReferralRequest(Indexes, compartments);
  buildIndexesForRelatedPerson(Indexes, compartments);
  buildIndexesForRiskAssessment(Indexes, compartments);
  buildIndexesForSchedule(Indexes, compartments);
  buildIndexesForSearchParameter(Indexes, compartments);
  buildIndexesForSequence(Indexes, compartments);
  buildIndexesForSlot(Indexes, compartments);
  buildIndexesForSpecimen(Indexes, compartments);
  buildIndexesForStructureDefinition(Indexes, compartments);
  buildIndexesForStructureMap(Indexes, compartments);
  buildIndexesForSubscription(Indexes, compartments);
  buildIndexesForSubstance(Indexes, compartments);
  buildIndexesForSupplyDelivery(Indexes, compartments);
  buildIndexesForSupplyRequest(Indexes, compartments);
  buildIndexesForTask(Indexes, compartments);
  buildIndexesForTestScript(Indexes, compartments);
  buildIndexesForValueSet(Indexes, compartments);
  buildIndexesForVisionPrescription(Indexes, compartments);
end;

end.

